(function(h,m,e){var n="roistat_visit",r="roistat_first_visit",u="roistat_is_need_listen_requests",g="roistat_visit_cookie_expire",b="roistat_is_save_data_in_cookie",p="roistat_cookies_to_resave",d="1209600",k={expires:parseInt(d),path:"/"},o={expires:10*365*24*60*60,path:"/"};var l=function(x){try{return decodeURIComponent(x)}catch(y){var w;w=i(x);if(w===null){return x}return w}};var i=function(A){var z={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var x="";var y=0;while(y<A.length){var w=A.substring(y,y+3);if(Object.prototype.hasOwnProperty.call(z,w)){x+=z[w];y+=3}else{x+=A.substring(y,y+1);y++}}try{return decodeURIComponent(x)}catch(B){return null}};var v,q,j;v=h.roistatGetCookie=function(w){var x=m.cookie.match(new RegExp("(?:^|; )"+w.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return x?l(x[1]):e};j=function(z,B,y){y=y||{};var x=y.expires;if(typeof x=="number"&&x){var D=new Date();D.setTime(D.getTime()+x*1000);x=y.expires=D}if(x&&x.toUTCString){y.expires=x.toUTCString()}B=encodeURIComponent(B);var w=z+"="+B;for(var A in y){w+="; "+A;var C=y[A];if(C!==true){w+="="+C}}m.cookie=w};q=h.roistatSetCookie=function q(x,B,w){j(x,B,w);var z=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1;if(!z){return}var A;A=v(p);A=typeof A==="string"?A.split(","):[];for(var y in A){if(A[y]===x){return}}A.push(x);j(p,A.join(","),{path:"/"})};if(h.roistatCookieDomain){k.domain=h.roistatCookieDomain;o.domain=h.roistatCookieDomain}var t={isAvailable:function(){var w=false;if(!h.localStorage||!h.localStorage.setItem||!h.localStorage.getItem||!h.localStorage.removeItem){return w}try{h.localStorage.setItem("testKey","testValue");w=h.localStorage.getItem("testKey")==="testValue";h.localStorage.removeItem("testKey")}catch(x){}return w},save:function(x,y,w){if(this.isAvailable()){localStorage.setItem(x,y)}q(x,y,w)},get:function(x){var w=null;if(this.isAvailable()){w=localStorage.getItem(x)}if(w===null){w=v(x)}return w}};var s="128018";s=parseInt(s)>0?s:0;q(n,s,k);if(!(v(n)>0)){t.save(n,s,k)}if(!(t.get(r)>0)){t.save(r,s,o)}if(!(t.get(g)>0)){t.save(g,d,k)}var c="0";t.save(u,c);var f="1";t.save(b,f);var a="0";h.roistatIsInitVisit=!(parseInt(a)>0);h.roistatVisitId=s;h.roistatMetrikaCounterId="77861236"})(window,document,undefined);if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cc,G,bA){var bm=false,S="253",z=13,cL=42,v=cc.roistatHost,aC="0.2",ae="1.0",cS="roistat_visit_cookie_expire",b4="roistat_visit",aI="roistat_cookies_to_resave",bW="roistat_guid",aN="roistat_next_guid",aT="roistat_first_visit",aj="roistat_is_need_listen_requests",a8="roistat_is_save_data_in_cookie",dn="roistat_phone",aB="roistat_referrer",cV="roistat_marker",a9="roistat_marker_old",bt="roistat_ab",cz="rs",H="roistat",Y="leadhunter_expire",N=5*60*60,bB="roistat_leadHunterEnabled",r="roistat_leadHunterTargetPagesMap",cr="roistat_leadHunterCallbackSettings",aR="roistat_leadHunterScriptId",T="roistat_isleadHunterScriptIdActive",a6="roistat_multiwidgetEnabled",bV="roistat_multiwidgetVKEnabled",cI="roistat_multiwidgetVKLink",O="roistat_multiwidgetFBEnabled",c2="roistat_multiwidgetFBLink",cu="roistat_multiwidgetTelegramEnabled",bk="roistat_multiwidgetTelegramLink",cF="roistat_multiwidgetWhatsAppEnabled",bz="roistat_multiwidgetWhatsAppLink",dv="roistat_multiwidgetViberEnabled",cx="roistat_multiwidgetViberLink",cG="roistat_onlineChatEnabled",A="roistat_onlineChatSettings",d=7*24*60*60,cN={expires:d,path:"/"},af="roistat-promo",am="roistat-phone",F="roistat-phone-country",ag="roistat-phone-region",I="roistat-phone-number",de="roistat-phone-tel",bH="country",aK="region",bd="number",bZ="tel",n="roistat_call_tracking",U="roistat-js-script",br="roistat_phone_replacement",be="roistat_phone_script_data",cK="roistat-visit-id",aU="roistat_metrika_counter_id",i="roistat_marker_from_referrer",bq="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bE="roistat_emailtracking_emails",l="roistat_geo_data",aM="roistat_promo_code",dg="roistat_proxy_forms",cP="roistat_isMultiDomain",cB=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],b5="roistat_debug",aX="roistat_settings_saved",ci="nocookie",aV=["yandex.ru"],az="beta_test",cv="roistat_settings_version",bT="roistat-leadhunter-form-template",bp="roistat-leadhunter-pulsator-template",bS="roistat-leadhunter-pulsator-settings",bl="roistat-online-chat-pulsator-template",B="roistat-online-chat-iframe-template",cW="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",W="roistat_last_settings_update_time",cp="roistat_authorized_client",aw="roistat_params",aJ="mobile",p="tablet",bO="desktop",bL=500,da=1024;
var bP="ru",dk="en",ab,s;var c1=v.replace(/^cloud\./,"");var cX="cllctr."+c1;var bU={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var b6={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var cM={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(cc.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cc.roistatAlreadyStarted=true;if(cc.roistatCookieDomain){cN.domain=cc.roistatCookieDomain}var cg=function(){return new Date().getTime()};var y=function(dw){var dx=cg()-bi;var e="["+(dx/1000)+"s] "+dw;bb=bb+"; "+e;if(typeof console!=="undefined"&&console.log&&bm){console.log(e)}};cc.roistat={version:S,getSource:function(){return b6.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){b6.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cs(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bn(e)},disableCallTracking:function(){bU.callTrackingEnabled=false},setCallTrackingManualMode:function(){bU.callTrackingManual=true},setJSONPRequestTimeout:function(e){bU.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){y("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null,},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true,},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(e){ax(e,bA)},authClientByEmail:function(e){ax(bA,e)},setRoistatParams:function(dD,dC,dA,dz,dy){var dw=M()+"/update-visit-by-params";if(!b6.isVisitProcessed){bw(dw,"RoistatParam was not updated because visit is not processed, roistatParam:"+encodeURIComponent(dD));y("Visit is not processed, return");return}var dB=o();if(dB<=0){bw(dw,"RoistatParam was not updated because visitId <= 0, roistatParam:"+encodeURIComponent(dD));y("Invalid arguments, return");return}bw(dw,"Start process for visit "+dB+", roistatParam: "+encodeURIComponent(dD));var dF={roistat_param1:dD,roistat_param2:dC,roistat_param3:dA,roistat_param4:dz,roistat_param5:dy};var dG=false;var dH={};for(var dK in dF){if(!Object.prototype.hasOwnProperty.call(dF,dK)){continue}var dJ=dF[dK];if(dJ!==bA&&dJ.length>0){dH[dK]=dJ;dG=true}}if(!dG){bw(dw,"Visit "+dB+" was not updated because none of RoistatParams are valid, roistatParam:"+encodeURIComponent(dD));y("Has no valid roistat params for visit update, return");return}var dI=aw;var dE=b9.get(dI);var e=JSON.stringify(dH);var dL=dE===e;if(dL){y("Params already updated, return");return}b9.set(dI,e);dw+="?visit="+dB+"&v="+S;for(var dx in dH){if(!Object.prototype.hasOwnProperty.call(dH,dx)){continue}dw+="&"+dx+"="+encodeURIComponent(dH[dx])}aS(dw)}};var ax=function(e,dy){if(!b6.isVisitProcessed){y("Visit is not processed, return");return}var dz=e!==bA&&e.length>0,dC=dy!==bA&&dy.length>0;if(!dz&&!dC){y("Invalid client params, return");return}var dA=o();if(dA<=0){y("Invalid arguments, return");return}var dB=cp,dD=b9.get(dB),dx=dz?e:dy;if(dD===dx){y('Client "'+dx+'" is already authorized, return');return}y("Auth client: "+dx);b9.set(dB,dx);var dw=M()+"/update-visit-by-client?visit="+dA+"&v="+S;if(dz){dw+="&client_id="+encodeURIComponent(e)}if(dC){dw+="&client_email="+encodeURIComponent(dy)}aS(dw)};var c5=function(dy,dw){var dx=dy.length;for(var e=0;e<dx;e++){if(dw===dy[e]){return true}}return false};var Z=function(){return j(az)>0};var x=function(){return cc.location.protocol+"//"+cc.location.host+cc.location.pathname};var D=function(){if(dq()){return aJ}if(dc()){return p}return bO};var dq=function(){return cc.innerWidth<=bL};var dc=function(){return cc.innerWidth>bL&&cc.innerWidth<=da};var a0=function(){return cc.roistatProjectId};var cw=function(){var e=a0().replace(/\D/g,"");y("getProjectHash: "+e);return e};var bg=function(e){var dw=cw();return c5(e,dw)};var cE=function(e){return JSON.parse(JSON.stringify(e))};var bu=function(){var dw=cE(cN),e=parseInt(b9.get(cS));
dw.expires=e>0?e:d;return dw};var cs=function(e){if(!b6.isVisitProcessed){cM.onVisitProcessed.push(e)}else{e()}};var cH=function(){b6.isVisitProcessed=true;y("[Roistat] visit id set. Processing callbacks");var dw=cM.onVisitProcessed.length;for(var e=0;e<dw;e++){cM.onVisitProcessed[e]()}if(cc.roistatVisitCallback!==bA){cc.roistatVisitCallback(cc.roistat.getVisit())}};var bn=function(e){cM.onCallTrackingPhoneReceived.push(e)};var c3=function(){var dw=cM.onCallTrackingPhoneReceived.length;for(var e=0;e<dw;e++){cM.onCallTrackingPhoneReceived[e]()}};var ar=function ar(e){cM.onSPAPageChanged.push(e)};var b2=function b2(){y("[Roistat] SPA page changed. Processing callbacks");var dw=cM.onSPAPageChanged.length;for(var e=0;e<dw;e++){cM.onSPAPageChanged[e]()}};var ah=function(dz,dy){var dx=dz.className.split(" "),dw=false,e;for(e=0;e<dx.length;e++){if(dx[e]===dy){dw=true;break}}if(!dw){dx.push(dy);dz.className=dx.join(" ")}};var b3=function(dy,dx){var dw=dy.className.split(" "),e;for(e=0;e<dw.length;e++){if(dw[e]===dx){dw.splice(e,1);dy.className=dw.join(" ");break}}};var ay=function(dx){try{return decodeURIComponent(dx)}catch(dy){var dw;dw=w(dx);if(dw===null){return dx}return dw}};var bN={visitor_uid:function(){y("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dt(cc.AMOPIXEL_IDENTIFIER)||!R(cc.AMOPIXEL_IDENTIFIER.getVisitorUid)){y("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aW(e)){y("AmoCrmUID: visitor_uid value must be a string");return null}return e}};var av=function(){for(var dw in bN){var e=bN[dw]();if(e===null){continue}df(dw,e,cN)}};var ba=function(){return["_ym_uid","_ga"].concat(J(bN))};var w=function(dA){var dz={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dx="";var dy=0;while(dy<dA.length){var dw=dA.substring(dy,dy+3);if(Object.prototype.hasOwnProperty.call(dz,dw)){dx+=dz[dw];dy+=3}else{dx+=dA.substring(dy,dy+1);dy++}}try{return decodeURIComponent(dx)}catch(dB){return null}};cc.roistatVersion=S;var bs,cm=bg(["9418029803765486301","053353545780959565"]),ad=bg(["860340978620700251","93600421474928811290145"]),k,ck=true,cq=decodeURIComponent(G.location.href),bb="",aQ="",bi=new Date().getTime(),cU=false,cA=cc.roistatPhonePrefix?cc.roistatPhonePrefix:"",dp=cc.roistatPhonePrefixBind?cc.roistatPhonePrefixBind:"",P=cc.roistatCalltrackingScripts&&cc.roistatCalltrackingScripts.join?cc.roistatCalltrackingScripts.join(","):"";var j,df,du;j=cc.roistatGetCookie=function(e){var dw=G.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dw?ay(dw[1]):bA};du=function(dy,dA,dx){dx=dx||{};var dw=dx.expires;if(typeof dw=="number"&&dw){var dC=new Date();dC.setTime(dC.getTime()+dw*1000);dw=dx.expires=dC}if(dw&&dw.toUTCString){dx.expires=dw.toUTCString()}dA=encodeURIComponent(dA);var e=dy+"="+dA;for(var dz in dx){e+="; "+dz;var dB=dx[dz];if(dB!==true){e+="="+dB}}G.cookie=e};df=cc.roistatSetCookie=function df(dw,dA,e){du(dw,dA,e);var dy=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1;if(!dy){return}var dz;dz=j(aI);dz=aW(dz)?dz.split(","):[];for(var dx in dz){if(dz[dx]===dw){return}}dz.push(dw);du(aI,dz.join(","),{path:"/"})};var by=function(dw,dy,dx){var e=dw[dy];dw[dy]=function(){if(e){e.apply(this,arguments)}dx.apply(this,arguments)}};var ac=function(dx,dw,dy){if(dx.addEventListener){dx.addEventListener(dw,dy,false);return}var e="on"+dw;if(dx.attachEvent){dx.attachEvent(e,dy);return}if(e in dx){by(dx,e,dy);return}if(dw in dx){by(dx,dw,dy);return}y("Handler could not be attached")};var q=function(dy,dx){var dw=dy.length;for(var e=0;e<dw;e++){dx(dy[e])}};var J=function(e){var dw=[];bh(e,function(dx,dy){dw.push(dx)});return dw};var bh=function(e,dx){for(var dw in e){if(Object.prototype.hasOwnProperty.call(e,dw)){dx(dw,e[dw])}}};var bo=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aL=function(dw){if(typeof dw!=="object"){return false
}for(var e in dw){if(dw.hasOwnProperty(e)){return true}}return false};var c7=function(dx){try{var dw=JSON.parse(dx);if(dw&&typeof dw==="object"){return dw}}catch(dy){}return null};if(G.getElementsByClassName==bA){G.getElementsByClassName=function(dw){var e=[];var dA=new RegExp("\\b"+dw+"\\b");var dz=this.getElementsByTagName("*");for(var dy=0;dy<dz.length;dy++){var dx=dz[dy].className;if(dA.test(dx)){e.push(dz[dy])}}return e}}var aA=function(){return String.fromCharCode};var cJ=function(dx){var e="";for(var dw=0;dw<dx.length;++dw){e+=aA()(cL^dx.charCodeAt(dw))}return e};var aH=function(e){return encodeURIComponent(cJ(cf.encode(e)))};var cf={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dx){var e="";var dE,dC,dA,dD,dB,dz,dy;var dw=0;dx=cf._utf8_encode(dx);while(dw<dx.length){dE=dx.charCodeAt(dw++);dC=dx.charCodeAt(dw++);dA=dx.charCodeAt(dw++);dD=dE>>2;dB=((dE&3)<<4)|(dC>>4);dz=((dC&15)<<2)|(dA>>6);dy=dA&63;if(isNaN(dC)){dz=dy=64}else{if(isNaN(dA)){dy=64}}e=e+this._keyStr.charAt(dD)+this._keyStr.charAt(dB)+this._keyStr.charAt(dz)+this._keyStr.charAt(dy)}return e},decode:function(dx){var e="";var dE,dC,dA;var dD,dB,dz,dy;var dw=0;dx=dx.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dw<dx.length){dD=this._keyStr.indexOf(dx.charAt(dw++));dB=this._keyStr.indexOf(dx.charAt(dw++));dz=this._keyStr.indexOf(dx.charAt(dw++));dy=this._keyStr.indexOf(dx.charAt(dw++));dE=(dD<<2)|(dB>>4);dC=((dB&15)<<4)|(dz>>2);dA=((dz&3)<<6)|dy;e=e+String.fromCharCode(dE);if(dz!=64){e=e+String.fromCharCode(dC)}if(dy!=64){e=e+String.fromCharCode(dA)}}e=cf._utf8_decode(e);return e},_utf8_encode:function(dw){dw=dw.replace(/\r\n/g,"\n");var e="";for(var dy=0;dy<dw.length;dy++){var dx=dw.charCodeAt(dy);if(dx<128){e+=String.fromCharCode(dx)}else{if((dx>127)&&(dx<2048)){e+=String.fromCharCode((dx>>6)|192);e+=String.fromCharCode((dx&63)|128)}else{e+=String.fromCharCode((dx>>12)|224);e+=String.fromCharCode(((dx>>6)&63)|128);e+=String.fromCharCode((dx&63)|128)}}}return e},_utf8_decode:function(e){var dx="";var dz=0;var dA=0;var dy=0;var dw=0;while(dz<e.length){dA=e.charCodeAt(dz);if(dA<128){dx+=String.fromCharCode(dA);dz++}else{if((dA>191)&&(dA<224)){dy=e.charCodeAt(dz+1);dx+=String.fromCharCode(((dA&31)<<6)|(dy&63));dz+=2}else{dy=e.charCodeAt(dz+1);dw=e.charCodeAt(dz+2);dx+=String.fromCharCode(((dA&15)<<12)|((dy&63)<<6)|(dw&63));dz+=3}}}return dx}};var bv=function(){return G[aA()(99,111,111,107,105,101)]};var an=function(){dj();var e={c:c0()};return aH(JSON.stringify(e))};var ct=function(){var e=o();return(e===bA||e===null)?ci:e};var c0=function(){var e=[];for(var dw in b6.cookies){if(!Object.prototype.hasOwnProperty.call(b6.cookies,dw)){continue}e.push(dw+"="+b6.cookies[dw])}return e.join("; ")};var dj=function(){var e=m();for(var dw in e){if(!Object.prototype.hasOwnProperty.call(e,dw)){continue}b6.cookies[dw]=e[dw]}};var al=function(e){df(cV,e,bu());b6.source.marker=e};var ai=function(){return j(cV)};var g=function(){bh(cc.roistat.page.params,function(dw,e){b6.pageParams[dw]=e})};var m=function(){var dy=bv();var dz=dy.split("; ");var e={};for(var dx=0;dx<dz.length;dx++){var dC=dz[dx];if(dC===""){continue}var dw=dC.split("=");if(dw.length<2){continue}var dB=dw[0].trim();var dA=dw[1].trim();e[dB]=dA}return e};var h=function(){return aA()(104,97,115,104)};var aG=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var b1={isAvailable:function(){var dw=false;if(!cc.sessionStorage||!cc.sessionStorage.setItem||!cc.sessionStorage.getItem||!cc.sessionStorage.removeItem){return dw}try{cc.sessionStorage.setItem("testKey","testValue");dw=cc.sessionStorage.getItem("testKey")==="testValue";cc.sessionStorage.removeItem("testKey")}catch(dx){return false}return dw},remove:function(e){if(this.isAvailable()){cc.sessionStorage.removeItem(e)}},setObject:function(e,dw){if(this.isAvailable()){cc.sessionStorage.setItem(e,JSON.stringify(dw))}},getObject:function(dw){var e=null;if(this.isAvailable()){e=cc.sessionStorage.getItem(dw);e=JSON.parse(e)}return e},set:function(e,dw){if(this.isAvailable()){cc.sessionStorage.setItem(e,dw)}},get:function(dw){var e=null;if(this.isAvailable()){e=cc.sessionStorage.getItem(dw)}return e}};var b9={isAvailable:function(){var dw=false;if(!cc.localStorage||!cc.localStorage.setItem||!cc.localStorage.getItem||!cc.localStorage.removeItem){return dw}try{cc.localStorage.setItem("testKey","testValue");dw=cc.localStorage.getItem("testKey")==="testValue";cc.localStorage.removeItem("testKey")}catch(dx){return false}return dw},remove:function(dw){if(this.isAvailable()){cc.localStorage.removeItem(dw)}else{var e=new Date(1970,1,1);df(dw,"",{expires:e.toUTCString()})}},setObject:function(e,dw){if(this.isAvailable()){localStorage.setItem(e,JSON.stringify(dw))}},getObject:function(dw){var e=null;if(this.isAvailable()){e=localStorage.getItem(dw);e=c7(e)}return e},set:function(e,dw){if(this.isAvailable()){localStorage.setItem(e,dw)
}else{if(this.isSaveInCookieEnabled()){df(e,dw,cN)}}},save:function(dw,dx,e){if(this.isAvailable()){localStorage.setItem(dw,dx)}df(dw,dx,e)},get:function(dw){var e=null;if(this.isAvailable()){e=localStorage.getItem(dw)}if(e===null){e=j(dw)}return e},isSaveInCookieEnabled:function(){return this.get(a8)>0}};var bY=function(){return !bX(G.referrer)?G.referrer:null};var R=function(e){return typeof e==="function"};var dt=function(e){return typeof e==="object"};var aW=function(e){return typeof e==="string"};var V=function(dy,dx){dx=typeof dx!=="undefined"?dx:false;var dz=function(dC){var dB=null;var dD=new RegExp("[#&?]("+dy+"=[^#&?]+)");if(dD.test(dC)){dB=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dA=ay(dB);return dB&&dA?dA:dB};var e=dz(cq);if(dx){var dw=G.referrer;if(e===null&&dw){e=dz(dw)}}return e};var cZ=function(dw,dx){var e=false;if(dw&&dx){e=dw.split(dx).join("")!==dw}return e};if(V(b5)==="1"||m()[b5]==="1"){bm=true}var cD=function(){var e="multiwidget_only";return V(e)==="1"||m()[e]==="1"};var aE=function(){return cD()?cc.roistatMultiWidgetOnly:cc.roistatOnlineChatOnly};var di=function(){var dw=a0()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||a0()==="4";var e=(cc.location.host==="cloud.roistat.com"||cc.location.host==="cloud-eu.roistat.com")&&cc.location.pathname!=="/user/login"&&cc.location.pathname!=="/user/register";var dy=a0()==="349ac99f64416756d4a18e91c71dc95f";var dx=cc.location.host==="datyson.ru"&&cc.location.pathname==="/cloud.html";if((dw&&!e)||(dy&&!dx)){y("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var a5=function(){if("https:"===G.location.protocol){return"https:"}else{return"http:"}};var Q=function(dw){var e=G.createElement("img");e.src=dw;y("sendRequestByUrl: "+dw)};var aS=function(dw){y("sendApiRequestJSONP: init with url "+dw);var e=G.createElement("script");e.onload=e.onreadystatechange=function(){var dy=this.readyState?this.readyState:"unknown";y("sendApiRequestJSONP: script state changed to "+dy)};e.src=dw;e.type="text/javascript";e.async=true;var dx=G.getElementsByTagName("script")[0];dx.parentNode.insertBefore(e,dx);y("sendApiRequestJSONP: script appended")};var bR=function(){if(b6.isCssLoaded){return}(function(){var dw=G.createElement("link"),e=G.getElementsByTagName("head");dw.setAttribute("rel","stylesheet");dw.setAttribute("href",a5()+"//"+v+"/dist/module.css?"+S);if(e.length>0){b6.isCssLoaded=true;e[0].appendChild(dw)}})()};var ce=function(){return cj()||dr()};var cj=function(){return bc()!==null};var dr=function(){return cb()!==null};var cT=function(){var e=cQ();if(e!==null){df(b4,e,bu())}};var cQ=function(){return bc()||cb()||null};var bc=function(){return V("roistat_visit")};var cb=function(){return b6.visitFromUser};var a=function(dw,e){if(!e&&(b6.isSettingsUpdating||!G.hasFocus())){y("Already updating settings or document not in focus, return");return}var dx=M()+"/get-settings?v="+S+"&visit="+dw;y("Request new settings");b6.isSettingsUpdating=true;aS(dx)};var aO=function(){return b9.get(aX)>0};var c9=function(){b9.set(aX,1)};var au=function(){b9.remove(bT);b9.remove(bp);b9.remove(bS);b9.remove(bl);b9.remove(B);b9.remove(cG);b9.remove(cW);b9.remove(f)};var b7=function(){var dz=function(){return b9.get(cv)};var dy=function(){b9.set(cv,z)};var dw=function(){return typeof dz()==="string"};var e=function(){var dA=Number(dz())>z;y("Settings Version: settings version change status - "+dA);return dA};var dx=function(){var dA=1000*60*60*24;var dD=c4();var dC=cg()-dD;var dB=dC>dA;y("Settings Version:: expiration day check: lastUpdateTime="+dD+", _lastUpdateTimeDiff="+dC+", _oneDayDiffInMs="+dA+", result="+(dB?1:0));return dB};if(!dw()){y("Settings Version: set settings version up to 1");dy()}if(dx()||e()){y("Settings Version: clear settings");au()}};var dl=function(){y("Call: Init");y("Counter version: "+S);if(V("roistat_ab_demo")==="1"){y("Roistat initialisation rejected: ab test preview mode");return}bf();cC();if((!ak()||ds())&&!aE()){cU=true;bC()}else{b7();cT();var e=o();E("Init visit with new visit_id, visit_id: "+e+" and referrer: "+k);bI();a3();cR();roistat.visit=e;b6.source.marker=ai();cc.roistat.geo=b9.getObject(l);var dw=aO();if(!dw){a(e)}else{cH()}}cs(c8)};var c8=function(){var dy=["96410253627861353","0663743092710733685117","6877276246017445345","65780787090363855409","954273091733054008"];var dw=c5(dy,cw());y("ExternalCounter availableProjects = ["+dy.join(",")+"], result = "+dw);if(!dw){y("ExternalCounter is not available, return");return}y("InitExternalCounter");var e="roistat:"+a0()+":"+o();var dx=function(dz){var dA=(G.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/"+dz+"?event_type=page_view";var dB=new XMLHttpRequest;dB.open("GET",dA,true);dB.withCredentials=true;dB.onload=function(){if(dB.readyState===4){if(dB.status!==204){console.error(dB.statusText)}}};dB.onerror=function(){console.error(dB.statusText)};dB.send(null)};dx(e);y("InitExternalCounter: script appended")};var K=function(dx){if(!dx.isEnabled){return true
}var e=new Date();var dE=new Date().toISOString();var dB=e.getUTCDay()===0?7:e.getDay();var dC=dB===6||dB===7;var dA=new Date(dx.weekdaysTime.from).toISOString();var dw=new Date(dx.weekdaysTime.to).toISOString();var dF=new Date(dx.weekendsTime.from).toISOString();var dy=new Date(dx.weekendsTime.to).toISOString();var dD=false;for(var dz=0;dz<dx.days.length;dz++){if(dB===dx.days[dz]){dD=true}}if(!dD){return false}if(dC){return dE>=dF&&dE<=dy}return dE>=dA&&dE<=dw};var bf=function(){y("Call: initMarker");bs=ch();y("Call: inited marker: "+bs)};var cC=function(){y("Call: initReferrer");k=bY();y("Call: end initReferrer: "+k)};var bX=function(dx){if(!dx){return true}var e=a4(dx);var dw=a4(G.domain);if(e===dw){return true}var dy=bQ();if(dy===null){return false}if(cZ(e,dy)&&cZ(dw,dy)){return true}return false};var bQ=function(){if(typeof cN.domain==="string"&&cN.domain!==""){return a4(cN.domain)}return null};var a4=function(e){var dw=e.split("http://").join("").split("https://").join("").split("www.").join("");return dw.split("/")[0]};var ch=function(){var dA=j(i)>0;var dC=null;var dx=function(dF){return dF.split("_").join(":u:")};var dE=function(dG){var dF=false;q(aV,function(dH){if(dG.indexOf(dH)>-1){dF=true}});return dF};var dD=function(){var dF=false;var dG;dG=V(H,dA);if(dG!==null){dC=dG;dF=true}dG=V(cz,dA);if(dG!==null){dC=dG;dF=true}return dF};var dy=function(){var dF=false;var dG=ai();if(dG){dC=dG;dF=true;ck=false}return dF};var dw=function(){var dF=false;var dH=V("utm_source",dA);if(dH!==null){dF=true;dC=":utm:"+dx(dH);var dJ=["utm_medium","utm_campaign","utm_content","utm_term"];var dG;for(var dI=0;dI<dJ.length;dI++){dG=V(dJ[dI],dA);if(dG!==null){dC=dC+"_"+dx(dG)}}}return dF};var dz=function(){var dH,dG,dF=false;dG=V("_openstat",dA);if(!dG){return false}if(dB(dG)){dH=dG}else{dH=encodeURI(cf.decode(dG));if(!dB(dH)){dH=dG}}if(dH){dH=dx(dH).split(";").join("_");dC=":openstat:"+dH;dF=true}return dF};var dB=function(dF){return dF.match(/^([^;]*(;[^;]*){3})$/)!==null};var e=function(){var dF=false;var dG=G.referrer;if(bX(dG)){return dF}var dH=V("from",dA);if(dH!==null&&!cZ(dH,"http")){if(!dE(dH)){dF=true;dC=dx(dH)}}return dF};if(dD()){y("Init marker: init from RS param "+dC);return dC}if(dw()){y("Init marker: init from UTM "+dC);return dC}if(dz()){y("Init marker: init from OpenStat "+dC);return dC}if(e()){y("Init marker: init from custom tag "+dC);return dC}y("Init marker: try init from cookie "+dC);dy();return dC};var o=function(){return b9.get(b4)};var X=function(){y("Call: saveReferrer");b9.set(aB,k)};var b0=function(){y("Call: removeReferrer");b9.remove(aB)};var c6=function(){df(a9,ay(bs),bu())};var cR=function(){y("Call: refreshPromoCode");if(aE()){y("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return j(b4)};aq(e());if(!cc.onload){cc.onload=function(){aq(e())}}setTimeout(function(){aq(e())},50);setTimeout(function(){aq(e())},200);setTimeout(function(){aq(e())},2000);setTimeout(function(){aq(e())},10000)};cc.roistatPromoCodeRefresh=cR;var db=function(){var e=[];var dw=G.getElementsByClassName(af);if(dw&&dw.length){e=dw}return e};var aq=function(e){var dy=db();y("setPromoCode: "+e+" in "+dy.length+" elements");for(var dx=0;dx<dy.length;dx++){var dw=dy[dx];dw.innerHTML=e?e:""}};var bF=function(){var dx=ch(),dw=j(a9),dz=dx!==null,dy=true;var dB=ay(ay(dx)).toLowerCase().split("+").join(" "),dA=ay(ay(dw)).toLowerCase().split("+").join(" ");if(dx&&dw){dy=dB!==dA}var e=dz&&dy;aQ="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dx+":"+dB+" and old "+dw+":"+dA;y(aQ);return e};var aF=function(){var dw=function(dE){return/[\u0400-\u04FF]/.test(dE)};var dD=false,dA=k,e=b9.get(aB),dC=cc.location.host;if(!dA||!dC){y("Call: needOverrideByReferrer (result "+(dD?"true":"false")+"), skip because one of params is empty");return dD}dC=a4(dC);dA=ay(dA);e=ay(e);var dy=a4(dA);if(cZ(dA,"xn--")&&dw(dC)){y("Call: needOverrideByReferrer (result "+(dD?"true":"false")+"), skip because of bugs with punycode in FF");return dD}if(!dy){y("Call: needOverrideByReferrer (result "+(dD?"true":"false")+"), skip because current referrer is null");return dD}if(!e){dD=!cZ(dy,dC);y("Call: needOverrideByReferrer (result "+(dD?"true":"false")+"), compare current referrer and host");return dD}if(cZ(dA,e)){y("Call: needOverrideByReferrer (result "+(dD?"true":"false")+"), skip because the same referrer");return dD}var dB=dC.split(".").length>2&&dy.split(".").length>2;var dz=cc.roistatCookieDomain!==bA&&cc.roistatCookieDomain!==dC;var dx=dy.split(".").slice(1).join(".")===dC.split(".").slice(1).join(".");if(dB&&dz&&dx){y("Call: needOverrideByReferrer (result "+(dD?"true":"false")+"), skip because sub domains of same domain");return dD}dD=!(cZ(dy,dC)||(cZ(dC,dy)));y("Call: needOverrideByReferrer (result "+(dD?"true":"false")+") referrerHost: "+dy+", currentHost: "+dC);return dD};var bJ=function(){return V("utm_nooverride")==="1"};var ds=function(){return !ce()&&!bJ()&&(bF()||aF())};var bK=function(dw,e){return(dw&&e&&dw!=e)
};var a7=function(dx){var e=["cookieExpire"];var dz=dx.leadHunterEnabled;if(Number(b9.get(bB))!==Number(dx.leadHunterEnabled)){b9.set(bB,Number(dx.leadHunterEnabled))}if(dz){var dy={expires:N,path:"/"};if(cN.domain){dy.domain=cN.domain}df(Y,1,dy)}for(var dw in dx){if(!Object.prototype.hasOwnProperty.call(dx,dw)){continue}if(!dz&&dw.indexOf("leadHunter")>=0&&dw.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!ap(e,dw)){b9.set("roistat_"+dw,dx[dw])}}};var cO=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(b9.get(a6))!==Number(e.is_enabled)){b9.set(a6,Number(e.is_enabled))}if(Number(b9.get(bV))!==Number(e.vk.is_enabled)){b9.set(bV,Number(e.vk.is_enabled))}if(b9.get(cI)!==roistat.multiwidget.vk.link){b9.set(cI,roistat.multiwidget.vk.link)}if(Number(b9.get(O))!==Number(e.fb.is_enabled)){b9.set(O,Number(e.fb.is_enabled))}if(b9.get(c2)!==roistat.multiwidget.fb.link){b9.set(c2,roistat.multiwidget.fb.link)}if(Number(b9.get(cu))!==e.telegram.is_enabled){b9.set(cu,Number(e.telegram.is_enabled))}if(b9.get(bk)!==roistat.multiwidget.telegram.link){b9.set(bk,roistat.multiwidget.telegram.link)}if(Number(b9.get(cF))!==e.whats_app.is_enabled){b9.set(cF,Number(e.whats_app.is_enabled))}if(b9.get(bz)!==roistat.multiwidget.whatsApp.link){b9.set(bz,roistat.multiwidget.whatsApp.link)}if(Number(b9.get(dv))!==e.viber.is_enabled){b9.set(dv,Number(e.viber.is_enabled))}if(b9.get(cx)!==roistat.multiwidget.viber.link){b9.set(cx,roistat.multiwidget.viber.link)}};var cd=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(b9.get(cG))!==Number(e.is_enabled)){b9.set(cG,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;b9.setObject(A,e.advanced_settings)};var u=function(e){cc.roistat.geo=e;b9.setObject(l,e)};var co=function(e){y("PromoCode: save settings");b9.setObject(aM,e)};var dm=function(dz,dB,dy,dw,dA,e,dC,dx){a7(dz);roistat.callTracking.enabled=dB.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dy.email;roistat.emailtracking.trackingEmail=dy.trackingEmail;roistat.emailtracking.emails=dy.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dA;cO(e);cd(dC);u(dw);co(dx)};cc.roistatModuleSetVisitCookie=function(dA,dI,dy,dw,dH,dD,e,dK,dC,dJ){y("Call: roistatModuleSetVisitCookie("+dA+")");var dE;if(typeof dy.cookieExpire!=="number"){dE=bu().expires}else{dE=dy.cookieExpire}var dB=j(b4);var dG={expires:dE,path:"/"};if(cN.domain){dG.domain=cN.domain}df(b4,dA,dG);if(!(j(b4)>0)){b9.save(b4,dA,dG)}if(!b9.get(aT)){var dx={expires:10*365*24*60*60,path:"/"};if(cN.domain){dx.domain=cN.domain}b9.save(aT,dA,dx)}var dF=dy.abTests;if((typeof dF!=="undefined")&&b9.isAvailable()){b9.setObject("abTesting",dF)}applyTests();var dz=dy.isNeedToListenRequests;if((typeof dz!=="undefined")&&b9.isAvailable()){b9.set(aj,dz)}aq(dA);if(dI){al(dI);df(a9,dI,dG)}if(cc.roistatCallback!==bA){cc.roistatCallback(dA,dI)}if(!dK){dK={}}dm(dy,dw,dH,dD,e,dK.multiwidget_settings,dC,dJ);roistat.callTracking.phone=dw.phone;roistat.callTracking.sessionTime=dw.sessionTime;roistat.callTracking.replacementClasses=dw.replacementClasses;roistat.callTracking.phoneScriptsJson=dw.scripts;roistat.visit=dA;y("Call: pre renderPromoCode");a3();cR();if(bK(dB,dA)){y("roistatModuleSetVisitCookie: visit changed from "+dB+" to "+dA)}c3();c9();cH()};cc.roistatUpdateSettings=function(e){y("Set settings.");b6.isSettingsUpdating=false;dm(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);c9();cH()};var ak=function(){var e;if(cc.roistatIsInitVisit===true){e=false}else{e=j(b4)>0}y("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var aZ=function(){return k?c(k):""};var M=function(){return a5()+"//"+v+"/api/site/"+ae+"/"+a0()};var cl=function(){var e={expires:1,path:"/"};if(cN.domain){e.domain=cN.domain}df(bt,"",e)};var bC=function(){y("Call: setVisitIdCookie");var dw=function(){var dG=a0(),dD=aZ(),dz=cc.roistatIsInitVisit===true?o():0,dF=j(bt),dB=j(bW),dA=b9.get(aT);dF=dF?dF:"";dA=dA?dA:"";bs=bs&&(!aF()||ck)?ay(ay(bs)):"";E("Init visit with visit id from cookie, visit_id: "+dz+" and referrer: "+dD+" calculateApiUrl marker: "+bs);var dE=encodeURIComponent(cq);y("Calltracking: enabled="+bU.callTrackingEnabled+",manual="+bU.callTrackingManual);var dC=JSON.stringify(cc.roistat.page.params);
return M()+"/addVisit?v="+S+"&marker="+encodeURIComponent(bs)+"&visit="+dz+"&first_visit="+dA+"&guid="+dB+"&phone_prefix="+cA+"&phone_prefix_bind="+dp+"&phone_scripts_bind="+P+"&referrer="+dD+"&page="+dE+"&ab="+c(dF)+"&"+h()+"="+an()+(dC==="{}"?"":"&page_params="+encodeURIComponent(dC))+((!bU.callTrackingEnabled||bU.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(dz){setTimeout(function(){y("Call: setVisitIdCookie script creation after timeout");var dA=G.createElement("script");dA.onload=dA.onreadystatechange=function(){var dC=this.readyState?this.readyState:"unknown";y("Call: setVisitIdCookie script state changed to "+dC)};dA.src=dz;dA.type="text/javascript";dA.async=true;dA.id=U;var dB=G.getElementsByTagName("script")[0];dB.parentNode.insertBefore(dA,dB);y("Call: setVisitIdCookie appended "+((G.getElementById(U))?"true":"false"));y("Call: sendJSONPRequest to URL "+dz);cl()},bU.jsonpRequestTimeout)};if(bs){al(bs);c6()}var dy=j(aN);if(dy){df(bW,dy,cN)}av();var dx=dw();e(dx);k?X():b0()};var bI=function(){y("Call: sendAbTests");var dw=function(){var dA=a0(),dz=j(b4);return a5()+"//"+v+"/site-api/"+aC+"/"+dA+"/visit/"+dz+"/addAbVariant"};var dx=j(bt);if(!dx){return}var dy=dw();dy=dy+"?ab="+c(dx);var e=G.createElement("img");e.src=dy;cl()};var aP={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(aP.Android()||aP.BlackBerry()||aP.iOS()||aP.Opera()||aP.Windows())}};var aY={isIE:function(dx,dz){var dA="IE",dw=G.createElement("B"),e=G.documentElement,dy;if(dx){dA+=" "+dx;if(dz){dA=dz+" "+dA}}dw.innerHTML="<!--[if "+dA+']><b id="iecctest"></b><![endif]-->';e.appendChild(dw);dy=!!G.getElementById("iecctest");e.removeChild(dw);return dy}};var c4=function(){return b9.get(W)};var aa=function(){var e="";cc.onerror=function(dB,dA,dx,dz,dy){var dw=!dz?"":", column: "+dz;dw+=!dy?"":", error: "+dy;e=e+", Error: "+dB+", url: "+dA+", line: "+dx+dw};setTimeout(function(){var dD=false,dE="";var dz=db();for(var dC=0;dC<dz.length;dC++){var dy=dz[dC];if(dy!==null&&!dy.innerHTML){dD=true;dE="Promo HTML: "+dy.innerHTML}}if(!(j(b4)>0)){dD=true;dE=dE+"; roistat_visit = "+j(b4)}if(dD){var dx=G.getElementById(U);var dw=dx?1:0;var dA=cc.navigator.userAgent;dE=encodeURIComponent(dE);var dB=G.createElement("img");dB.src=a5()+"//"+v+"/site-api/"+aC+"/"+a0()+"/debug?message="+dE+"&agent="+dA+"&"+h()+"="+an()+"&jserror="+e+"&scriptResponse="+dw+"&version="+S+"&debug="+bb}},20000)};var bx=function(){var dx=G.getElementsByTagName("body");var dy=G.documentElement;var dw=0,dz=0;if(dx.length){var e=dx[0];dw=cc.innerWidth||dy.clientWidth||e.clientWidth;dz=cc.innerHeight||dy.clientHeight||e.clientHeight}else{dw=cc.innerWidth||dy.clientWidth;dz=cc.innerHeight||dy.clientHeight}return{width:dw,height:dz}};var a3=function(){var dB=G.getElementsByClassName("roistat-promo-wrap");if(dB.length){y("PromoCode: old promo code length - exit");return}if(aE()){y("PromoCode: Shut down because only online chat need to be inited");return}var dA=b9.getObject(aM);if(dA&&dA.hasOwnProperty("is_enabled")){cc.roistat.promoCode.isEnabled=dA.is_enabled;y("PromoCode: set is_enabled from storage")}var dy=function(){var dI=G.createElement("div");dI.innerHTML=roistatPromoCode;var dG=G.getElementsByTagName("body");if(dG.length){dG[0].appendChild(dI)}y("PromoCode: appended to body "+roistatPromoCode.length);var dH=G.getElementsByClassName("roistat-promo-wrap")[0];if(!dH){y("PromoCode: roistat-promo-wrap not found, skip");return}var dF=dH.style;var dD,dE,dC;setInterval(function(){dD=bx();dE=dH.offsetWidth;dC=dH.offsetHeight*2;switch(roistatPosition){case"top_left":dF.left=0;dF.top=0;break;case"top":dF.left=((dD.width-dE)/2)+"px";dF.top=0;break;case"top_right":dF.right=0;dF.top=0;break;case"left":dF.left=0;dF.top=((dD.height-dC)/2)+"px";break;case"right":dF.right=0;dF.top=((dD.height-dC)/2)+"px";break;case"bottom_left":dF.left=0;dF.bottom=0;break;case"bottom":dF.left=((dD.width-dE)/2)+"px";dF.bottom=0;break;case"bottom_right":dF.right=0;dF.bottom=0;break;default:dF.left=0;dF.top=0}},500)};var e=b9.getObject("promo_code_options");if(e){y("PromoCode: options already set");cc.roistatPromoCode=e.template;cc.roistatPosition=e.position;dy()}else{if(!cc.roistat.promoCode.isEnabled){y("PromoCode: is not available, skip");return}var dz=G.getElementsByTagName("head")[0]||G.documentElement;var dx=G.createElement("script");dx.src=a5()+"//"+v+"/site-api/"+aC+"/"+a0()+"/getPromoCode";dz.insertBefore(dx,dz.firstChild);y("PromoCode: loading started");var dw=false;dx.onload=dx.onreadystatechange=function(){if(!dw&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dw=true;dx.onload=dx.onreadystatechange=null;if(dz&&dx.parentNode){dz.removeChild(dx)}}if(!dw){return
}y("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){y("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};b9.setObject("promo_code_options",e);dy()}}};var ap=function(dw,dx){for(var e=0;e<dw.length;e++){if(dw[e]===dx){return true}}return false};var bw=function(e,dw){if(!cm){return}aS(e+(dw!==""?"?log="+encodeURIComponent(dw):""))};var E=function(dw){if(!ad||dw===""){return}var e=o();dd("visit: "+e+" "+dw)};var dd=function(dw){var e=M()+"/log?log="+encodeURIComponent(dw);aS(e)};var aD=function aD(){var dz=cc.onpopstate;var dA=cc.history.pushState;var e=cc.history.replaceState;ac(cc,"popstate",function dy(dB){y("[Roistat]: popstate event catch");b2();if(Z()&&typeof dz==="function"){dz(dB)}});ac(cc.history,"pushState",function dx(dC,dD,dB){y("[Roistat]: pushState event catch");b2();if(Z()&&typeof dA==="function"){dA.apply(this,[dC,dD,dB])}});ac(cc.history,"replaceState",function dw(dC,dD,dB){y("[Roistat]: replaceState event catch");b2();if(Z()&&typeof e==="function"){e.apply(this,[dC,dD,dB])}})};(function bG(){aD();if(cc.onRoistatModuleLoaded!==bA&&typeof cc.onRoistatModuleLoaded==="function"){cc.onRoistatModuleLoaded()}})();var bD=function(dw){var dB=function(dI,dG){var dF;if(cZ(dG,"*")){var dH=new RegExp(dG.split("*").join(".*"));dF=dH.test(dI)}else{dF=dI===dG}y("LeadHunter: compare current: "+dI+", setting: "+dG+" with result = "+(dF?1:0));return dF};var e=cc.location.href,dy=false,dx=false,dD="",dz=0,dC;dC=dw?dw.split(","):[];if(!e||dC.length===0){dy=true}else{dD=aG(e);var dE;for(var dA=0;dA<dC.length;dA++){dE=dC[dA].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(dE)){if(dB(dD,dE.split(/^!/).join(""))){dx=true;break}}else{dz++;if(dB(dD,dE)){dy=true;break}}}}if(dx){y('LeadHunter: current page "'+dD+'" is disabled by list');return false}if(!dy&&dz>0){y('LeadHunter: current page "'+dD+'" is not listed');return false}y('LeadHunter: current page "'+e+'", cleaned: "'+dD+'" is not disabled in '+dC.length+" list of pages");return true};try{dl()}catch(cn){E(cn)}(function a2(){var dR="empty",dB=false,dw=true,dK=false;var dO={roistat_visit:j(b4),marker:bs,user_agent:cc.navigator.userAgent,current_page:{title:G.title,href:cc.location.protocol+"//"+cc.location.host+cc.location.pathname,},};var dS=function(dW,dV,dU){if(dW.addEventListener){dW.addEventListener(dV,dU,false)}else{if(dW.attachEvent){dW.attachEvent("on"+dV,dU)}else{y("Handler could not be attached")}}};var dM=function(dW,dU){if(dW===bA||typeof dU!=="string"||dU.length===0){return}var dV=dW.getElementsByClassName(dU);if(dV===bA||dV.length===0){return}return dV[0]};var dT=function(dU){return typeof dU==="object"&&dU!==null};var dC=function(dU,dW,dV){if(dT(dU)){if(dV){dU.classList.add(dW);return}dU.classList.remove(dW)}};var dP={leadHunter:function(){var fH="roistat-lh-form",ei="roistat-lh-form",fK="roistat-lh-head-text",ew="roistat-lh-head",ee="roistat-lh-thank-you",eX="roistat-lh-thank-you",dZ="roistat-lh-close",d0="roistat-lh-submit",eF="roistat-lh-hidden",fm="roistat-lh-wrap",ek="roistat-lh-popup-wrapper",eW="roistat-lh-popup",fJ="roistat-lh-agreement",eS="roistat-lh-agreement roistat-lh-mobile",fY="roistat-lh-agreement-input",fy="roistat-lh-agreement-link",dU="roistat-lh-agreement-doc",fD="roistat-lh-alert-row",e4="roistat-lh-agreement",eR="roistat-lh-popup-iframe",e7="roistat_leadHunterUrl",fA="roistat_leadHunterAppearanceUrl",eJ="roistat_leadHunterTargetPagesList",ed="roistat_leadHunterCaught",fe="roistat_leadHunterMinTime",eA="roistat_leadHunterAutoShowTime",fb="roistat_leadHunterPulsatorEnabled",eu="roistat_leadHunterScriptsCaught",fZ="roistat_leadHunterScriptsShownCount",eP="roistat-lh-load-done",ej="roistat-lh-close-modal",fo="roistat-lh-script-settings",fn="roistat-lh-setting-size",fE="roistat-lh-before-submit",e8="roistat-lh-before-submit-done",fM="roistat-lh-after-submit",fr="roistat-lh-event-data",fs="roistat-lh-translate-form",fW={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var ec=0.3,eo=0.001,ef=false,er=0,em=0,es=0,fO=0,eq=0,eG=false,d4=false,ep,fC,eZ,e5,fl,ev,fX,fS,fz,fV,d8,fP,fi,e0,eQ,eb,dX,eE,et,eB,fw,fF,ey,fI,fN,eI;var fR={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var fL=function(f4){var f3=encodeURIComponent?encodeURIComponent:encodeURI;return f3(f4)};var fq=function(){if(!cc.roistat.leadHunter.isEnabled){return false}if(cc.roistatLeadHunterInited){return false}cc.roistatLeadHunterInited=true;if(b9.get(bB)<1){y("LeadHunter: disabled");return false}return true};var eD=function(){dX=b9.get(e7);if(!dX){y("LeadHunter: not active cause of empty url");return false}bR();eE=b9.get(fA);fO=b9.get(fe);eq=cc.roistat.leadHunter.form.autoShowTime===null?b9.get(eA):cc.roistat.leadHunter.form.autoShowTime;dB=b9.get(fb)==1;dW();y("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(dB?1:0));
return true};var eL=function(){return b9.get(ed)>0};var dW=function(){if(!(j(Y)>0)){y("LeadHunter: not active, expired for this visit");eG=true}};var d5=function(f3){eB=fw.src;var f4={version:S,additionalNotifyEmail:cc.roistat.leadHunter.additionalNotifyEmail,projectKey:a0(),language:ab,visitId:ct(),moduleTargetOrigin:cc.location.origin,referrer:cc.location.href,windowWidth:cc.innerWidth||0,iframeWrapperWidth:e5.offsetWidth||0,sendRequestUrl:b9.get(e7),message:eP};fw.contentWindow.postMessage(f4,eB);fd();if(f3){y("Beta Test on, iframe fired, rise up iframe show count state");dY()}};var eO=function(){d4=true;d3("click");d5();fk()};var d2=function(){var f3=cc.location.hash;if(!f3){return}if(cZ(f3,"roistat-lead-hunter")){eO()}};var eM=function ea(){y("LeadHunter: binding timeout");if(eG){y("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(ef){y("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eq>0){var f3=(er-cg())+eq*1000;y("LeadHunter: binding timeout with delay "+f3+" ms");clearTimeout(fR.timeoutId);fR.timeoutId=setTimeout(function(){y("LeadHunter: form auto activate with autoTime = "+eq);if(!ef){y("LeadHunter: show by timeout");d4=true;d3("auto");d5(true);fk()}},f3)}else{y("LeadHunter: auto show time is not positive, feature disabled")}};var fB=function(){fz.onclick=fl.onclick=e2;fV.onclick=eH;if(dT(fP)){dS(fP,"click",eT)}if(dT(fi)){dS(fi,"change",f1)}var f4=G.getElementsByClassName("roistat-lh-input");if(Array.isArray(f4)){for(var f7=0;f7<f4.length;f7++){dS(f4[f7],"keyup",function(f9){f9=f9||event;var f8=(f9.keyCode?f9.keyCode:f9.which);if(f8==13){eH()}})}}var f5=cc.onresize;cc.onresize=function(f8){if(f5){f5(f8)}fG(f8)};if(!eG){var f3=G.onmouseout;G.onmouseout=function(f8){if(f3){f3(f8)}fh(f8)}}if(dB&&!dJ()&&dT(ep)){ep.onmouseover=function(){ah(ep,"roistat-lh-pulsator-hover")};ep.onmouseout=function(){b3(ep,"roistat-lh-pulsator-hover")};ep.onclick=function(){eO()}}var f6=cc.onhashchange;cc.onhashchange=function(){if(f6){f6.apply(this,arguments)}d2()}};var fU=function(){if(dB&&!dJ()&&dT(ep)){ep.onmouseover=function(){ah(ep,"roistat-lh-pulsator-hover")};ep.onmouseout=function(){b3(ep,"roistat-lh-pulsator-hover")};ep.onclick=function(){eO()}}fl.onclick=e2;fw=G.getElementById(eR);if(dT(fw)){dS(fw,"load",function(){d5();fQ()})}var f4=cc.onresize;cc.onresize=function(f6){if(f4){f4(f6)}fG(f6)};if(!eG){var f3=G.onmouseout;G.onmouseout=function(f6){if(f3){f3(f6)}if(!Z()){y("ShowLimit: Beta Test off, check cursor usually");fh(f6)}else{y("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fj()&&!en()){y("ShowLimit: Check cursor allowed");fh(f6,true)}}}}var f5=cc.onhashchange;cc.onhashchange=function(){if(f5){f5.apply(this,arguments)}d2()}};var e1=function(f4){var f3=G.getElementsByClassName(f4);if(f3.length>0){return f3[0]}else{return null}};var eY=function(){var f6=e1("roistat-lh-title");if(dT(f6)&&roistat.leadHunter.form.title){f6.innerHTML=roistat.leadHunter.form.title}var f4=e1("roistat-lh-sub-title");if(dT(f4)&&roistat.leadHunter.form.subTitle){f4.innerHTML=roistat.leadHunter.form.subTitle}var f5=e1("roistat-lh-thank-you");if(dT(f5)&&roistat.leadHunter.form.thankYouText){f5.innerHTML=roistat.leadHunter.form.thankYouText}var f8=e1("roistat-lh-submit");if(dT(f8)&&roistat.leadHunter.form.buttonText){f8.value=roistat.leadHunter.form.buttonText}var f7=e1("roistat-lh-text-label-name");if(dT(f7)&&roistat.leadHunter.form.nameLabel){f7.innerHTML=roistat.leadHunter.form.nameLabel}var f3=e1("roistat-lh-text-label-contact");if(dT(f3)&&roistat.leadHunter.form.contactLabel){f3.innerHTML=roistat.leadHunter.form.contactLabel}};var el=function(f4,f8,f7){var f3;if(!f4){y("LeadHunter: deactivating, empty form")}else{y("LeadHunter: rendering hidden form")}fl=G.createElement("div");e5=G.createElement("div");e5.innerHTML=f4;fl.className=eF;e5.className=eF;y("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(dB?1:0));if(f8&&dB&&f7&&!dJ()){var f5=typeof f7.position==="string"&&f7.position!==""?f7.position:"bottomRight";f3=G.createElement("div");f3.innerHTML=f8;ep=f3.childNodes.item(0);fC=ep.childNodes.item(1);eZ=ep.childNodes.item(2).childNodes.item(0);fC.setAttribute("style","background: "+f7.button.background+";");eZ.setAttribute("style","fill: "+f7.button.color+";");ep.setAttribute("style","bottom: "+fW[f5].bottom+";right:"+fW[f5].right+";");fR.pulsator.previousClass=ep.className;ep.className=eF;G.body.appendChild(ep)}G.body.appendChild(fl);G.body.appendChild(e5);ev=G.getElementById(ew);fX=G.getElementById(ei);fS=G.getElementById(eX);fz=G.getElementById(dZ);fV=G.getElementById(d0);d8=G.getElementById(fJ);fi=G.getElementById(fY);fP=G.getElementById(fy);e0=G.getElementById(dU);eQ=G.getElementById(fD);eb=G.getElementById(e4);var f6=e1(ek);et=dT(f6)&&f6.getAttribute("data-is-iframe");if(et){fU()}else{eY();fB();d2();fQ()}};var fT=function(f5){var f4=f5.button&&f5.button.background&&f5.button.color;if(!f4){return}b9.setObject(bS,eI);var f3=typeof f5.position==="string"&&f5.position!==""?f5.position:"bottomRight";
if(dT(fC)){fC.setAttribute("style","background: "+f5.button.background+";")}if(dT(eZ)){eZ.setAttribute("style","fill: "+f5.button.color+";")}if(dT(ep)){ep.setAttribute("style","bottom: "+fW[f3].bottom+";right:"+fW[f3].right+";")}};var d9=function(){var f3=b9.get(bT),f5=b9.get(bp),f4=b9.getObject(bS);el(cf.decode(f3),cf.decode(f5),f4)};var eK=function(){var f4=e5.clientWidth,f3=e5.clientHeight;if(dT(e5)){e5.setAttribute("style",e5.getAttribute("style")+" width: "+f4+"px; height: "+f3+"px;")}if(dT(fX)){fX.className=eF}if(dT(ev)){ev.className=eF}if(dT(d8)){d8.className=eF}if(dT(fS)){fS.setAttribute("style","width: "+f4+"px; height: "+f3+"px; display: table-cell;");fS.className=ee}setTimeout(function(){y("LeadHunter: close form after timeout");e2()},7000)};var fk=function(){var f4=Math.round((fx()-e5.clientHeight)/2);var f3=Math.round((f2()-e5.clientWidth)/2);if(dT(e5)){e5.setAttribute("style","left: "+f3+"px; top: "+Math.max(0,f4)+"px;")}};var d3=function(f4){if(cc.roistat.leadHunter.onBeforeAppear){y("LeadHunter: process user defined onBeforeAppear");cc.roistat.leadHunter.onBeforeAppear(f4);if(et){fd()}}if(dT(e5)){e5.setAttribute("style","left:20px;top:-20px;opacity:0");e5.className=eW}if(dT(fl)){fl.className=fm}if(dT(fX)){fX.className=fH}if(dT(ev)){ev.className=fK}if(dT(d8)){d8.className=eS}if(dT(fS)){fS.setAttribute("style","");fS.className=eF}if(dT(fl)){fl.setAttribute("style","opacity:0;")}ef=true;setTimeout(function(){fl.setAttribute("style","opacity:.5;")},10);var f5=j(b4),f3=eE+"?visit_id="+f5+"&page="+x();Q(f3);if(cc.roistat.leadHunter.onAfterAppear){y("LeadHunter: process user defined onAfterAppear");cc.roistat.leadHunter.onAfterAppear(f5,fl,e5,fX);if(et){fd()}}};var fp=function e3(){er=cg();d9();y("LeadHunter: form initialized")};var fQ=function eN(){y("LeadHunter: tuning appearance for page");if(!bD(b9.get(eJ))||(b9.get(aR)&&!b9.get(T))){y("LeadHunter: disabled on page");fR.leave.isShowEnabled=false;clearTimeout(fR.timeoutId);if(dJ()){dw=false;dG()}if(dT(ep)){ep.className=eF}}else{y("LeadHunter: enabled on page");if(!eL()&&!Z()){y("ShowLimit: Beta Test off, bindShowOnTimeout usually");fR.leave.isShowEnabled=true;eM()}if(Z()){y("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fj()&&!en()){y("ShowLimit: bindShowOnTimeout allowed");fR.leave.isShowEnabled=true;eM()}}if(dT(ep)){ep.className=fR.pulsator.previousClass}}};var ex=function fg(){y("LeadHunter: processing single page application state change");er=cg();fQ()};var fv=function eU(){ar(ex);var f4=function(){var f9=G.querySelector("html"),f6=600,f8=300,ga=cc.innerWidth,f5=getComputedStyle(f9).zoom,f7={};if(ga<f6&&ga>f8){f7={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:f5};fw.contentWindow.postMessage({sizeSettings:f7,message:fn},eB);return}if(ga<f8){f7={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:f5};fw.contentWindow.postMessage({sizeSettings:f7,message:fn},eB);return}f7={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:f5};fw.contentWindow.postMessage({sizeSettings:f7,message:fn},eB)};ac(cc,"load",function(){f4()});ac(cc,"resize",function(){f4()});ac(cc,"message",function f3(f8){var gd=typeof f8.data==="string"?f8.data:f8.data.message;if(gd===fo){fF=f8.data.scriptId;ey=f8.data.showsLimit;var gc=b9.getObject(r)!==null;if(gc){fI=f8.data.leadHunterAutoShowTime;fN=f8.data.leadHunterMinTime;fN=f8.data.leadHunterMinTime;eI=f8.data.leadHunterPulsatorSettings;b9.set(fe,fN);b9.set(eA,fI);if(eI){var gb=Number(eI.isEnabled);y("Leadhunter: set pulsator setting "+gb);b9.set(fb,gb);fT(eI)}}y("ShowLimit: Get lhScriptId: "+f8.data.leadHunterId+" and lhScriptMaxShownCount: "+f8.data.leadHunterMaxShownCount+" from lh widget");fa()}if(gd===ej){e2()}if(gd===fn){fw.setAttribute("style","width: "+f8.data.width+"px !important; height: "+f8.data.height+"px !important;");fG(f8)}if(gd===fE){var f7=f8.data.caughtLeadData;if(cc.roistat.leadHunter.onBeforeSubmit){y("LeadHunter: process user defined onBeforeSubmit");var f5=cc.roistat.leadHunter.onBeforeSubmit(f7);if(f5){f7=f5}}if(!Z()){y("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");d6()}else{y("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fc()}var f6=b9.getObject(cr);var ga=f6!==null;var f9=ga&&f7.isNeedCallback===null&&!K(f6);if(f9){f7.isNeedCallback=0}fw.contentWindow.postMessage({caughtLead:f7,message:e8},eB)}if(gd===fM){if(cc.roistat.leadHunter.onAfterSubmit){y("LeadHunter: process user defined onAfterSubmit");cc.roistat.leadHunter.onAfterSubmit({name:f8.data.name,phone:f8.data.phone})}}})};function fd(){var f3={apiData:cc.roistat.leadHunter.form,message:fr};fw.contentWindow.postMessage(f3,eB)}function fa(){if(!fq()){y("checkLeadHunterLaunch false");return}var f3=b9.getObject(r)!==null;if(f3){d7()}if(!eD()){y("initSettings false");return}y("LeadHunter: activated");fp();fQ();fv()}function fx(){return(cc.innerHeight?cc.innerHeight:G.documentElement.clientHeight==0?G.body.clientHeight:G.documentElement.clientHeight)
}function f2(){return(cc.innerWidth?cc.innerWidth:G.documentElement.clientWidth==0?G.body.clientWidth:G.documentElement.clientWidth)}function fh(f6,f3){f6=f6||event;es=f6.clientY;var f4=es/fx(),f8=em>0&&em>f4,f5=f4<eo,f7=(cg()-er)>fO*1000;if(f8&&f5&&!ef&&f7&&fR.leave.isShowEnabled&&!eL()){y("LeadHunter: show modal with because move up ("+em+" -> "+f4+") and in modal zone and show on leave enabled");d3("exit");d5(f3);eV(f6)}if(f4<ec){em=f4}}function fG(f3){if(d4){fk()}else{f3=f3||event;eV(f3)}}function eV(f8){var f4=f8.type==="message"?f8.data.width:e5.offsetWidth;var f5=f2();var f3=f8.clientX-Math.round(f4/2)||e5.offsetLeft;f3=Math.max(20,Math.min(f3,f5-f4-20));var f9=f3+f4>f5-40;if(f9){var f6=(f3+f4-20)-(f5-40);f3=f3-f6}var f7=f5-40>f4?"":"width: "+(f4-40)+"px;";if(dT(e5)){e5.setAttribute("style","left: "+f3+"px; top: 0px; "+f7)}}function d6(){cc.roistatSetCookie(ed,1,cN)}function e2(){if(!Z()){y("ShowLimit: Beta Test off, setCookieLeadHunterCaught");d6()}if(dT(fl)){fl.setAttribute("style","opacity:0")}if(dT(e5)){e5.style.top="-"+e5.offsetHeight*2+"px";setTimeout(function(){e5.className=fl.className=eF},500)}}function eH(){var gh=G.getElementById("roistat-lh-phone-input"),f5=G.getElementById("roistat-lh-name-input"),f7,gf;f7=gh===null?"":gh.value;gf=f5===null?"":f5.value;var gc={name:gf,phone:f7,isNeedCallback:null,callbackPhone:null,fields:{}};if(cc.roistat.leadHunter.onBeforeSubmit){y("LeadHunter: process user defined onBeforeSubmit");var f8=cc.roistat.leadHunter.onBeforeSubmit(gc);if(f8){gc=f8}}var ge=gc.phone.length<1;var gg=gc.phone.indexOf("_")===-1;var ga=!ge&&gg;var gd=gc.name.length<1;var f4=!gd||!cc.roistat.leadHunter.form.isNameRequired;if(!ga&&dT(gh)){gh.setAttribute("style","border: 2px solid #E0571A;");return}if(!f4&&dT(f5)){f5.setAttribute("style","border: 2px solid #E0571A;");return}var f3=dX+"?v="+S+"&lead-hunt-input="+encodeURIComponent(gc.phone)+"&lead-name="+encodeURIComponent(gc.name)+"&visit="+ct();if(gc.isNeedCallback!==null&&gc.isNeedCallback!==bA){f3=f3+"&is_need_callback="+(gc.isNeedCallback>0?1:0)}if(gc.callbackPhone){f3=f3+"&callback_phone="+gc.callbackPhone}if(cc.roistat.leadHunter.additionalNotifyEmail!==null){f3=f3+"&additional_email="+encodeURIComponent(cc.roistat.leadHunter.additionalNotifyEmail)}var f6=0;if(gc.fields&&typeof gc.fields==="object"){for(var f9 in gc.fields){if(gc.fields.hasOwnProperty(f9)){++f6}}}if(f6>0){f3=f3+"&fields="+fL(JSON.stringify(gc.fields))}f3=f3+"&t="+cg();var gb=G.createElement("img");gb.src=f3;if(dT(gh)){gh.setAttribute("style","")}if(!Z()){y("ShowLimit: Beta Test off, caught LH usually");d6()}else{y("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fc()}if(!dT(fS)){e2();eC()}else{eK()}if(cc.roistat.leadHunter.onAfterSubmit){y("LeadHunter: process user defined onAfterSubmit");cc.roistat.leadHunter.onAfterSubmit({name:gf,phone:f7})}}function eT(f3){if(f3.preventDefault){f3.preventDefault()}else{f3.returnValue=false}if(dT(e0)){e0.style.display==="block"?e0.style.display="none":e0.setAttribute("style","display: block; padding: 0 30px; width:"+e5.clientWidth+"px;")}fG()}function f1(){if(dT(fV)){fV.disabled===true?fV.disabled=false:fV.disabled=true}if(dT(eQ)){eQ.style.display==="block"?eQ.style.display="none":eQ.style.display="block"}}function eC(){G.onmousemove=null;if(dT(fl)){fl.onresize=null}}var ez=function(f9,gc){if(!f9||!gc){y("LeadHunter: skip phone mask render due to empty input or mask");return}y("LeadHunter: render phone mask "+gc+" for input: "+f9.value);if(cc.roistatRenderPhoneMaskMutex){return}cc.roistatRenderPhoneMaskMutex=true;var f6="_",f5="x",f8="х",f7=gc.toLowerCase().split(f5).join(f6).split(f8).join(f6);var f4=function(gd){if(f9.setSelectionRange){f9.setSelectionRange(gd,gd)}else{if(f9.createTextRange){var ge=f9.createTextRange();ge.collapse(true);ge.moveEnd("character",gd);ge.moveStart("character",gd);ge.select()}}};var ga=function(gd){if(!gd){return 0}var ge=gd.indexOf(f6);if(ge<0){return gd.length}return ge};var gb=function(gd){f4(ga(gd))};var f3=function(gm){var gn=f7.split("");if(!gm){return f7}var gd=gm.split("");var go=[],gl,gi,gk,gh,gf,ge,gj;for(var gg=0;gg<gn.length;gg++){gi=gn[gg];if(gg>=gd.length){go.push(gi);continue}gf=((gg+1)<gn.length)?gn[gg+1]:null;ge=((gg+1)<gd.length)?gd[gg+1]:null;gj=((gg+2)<gd.length)?gd[gg+2]:null;gl=gd[gg];gk=parseInt(gl)>=0;gh=(gi===f6)&&gk;if(!gh){go.push(gi);continue}if(ge===f6&&gf!==f6&&gj!==gf){go.push(gi);continue}go.push(gl)}return go.join("")};setTimeout(function(){var gd=f3(f9.value);if(f9.value!==gd){f9.value=gd}gb(gd);cc.roistatRenderPhoneMaskMutex=false},1)};var fu=function(f3,f5,f4){b9.set(bT,cf.encode(f3));b9.set(bp,cf.encode(f5));b9.setObject(bS,f4)};var e9=function(f3){ab=f3;if(fw===bA){return}dV()};var dV=function(){var f3={language:ab,message:fs};fw.contentWindow.postMessage(f3,eB)};var fc=function(){y("ShowLimit: Start set roistat_leadHunterScriptsCaught");var f3=eg(eu);if(!f3){f3={}}y("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");
f3[fF]=1;ft(eu,f3)};var dY=function(){y("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var f4=eg(fZ);if(!f4){f4={}}var f5=f4.hasOwnProperty(fF);if(!f5){y("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");f4[fF]=0}var f3=f4[fF]+1>ey;if(f3){y("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}y("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");f4[fF]+=1;ft(fZ,f4)};var ft=function(f3,f4){df(f3,JSON.stringify(f4),cN)};var eg=function(f3){var f4=j(f3);if(typeof f4!=="undefined"){return JSON.parse(f4)}return f4};var en=function(){if(ey===0){y("ShowLimit: show limit off and set to 0");return false}var f3=eg(fZ),f4=f3?f3[fF]:null,f5=f4+1>ey;y("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+f5);return f5};var fj=function(){var f5=eg(eu),f3=f5?f5[fF]:null,f4=f3===1;y("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+f4);return f4};var d7=function(){b9.set(aR,d1());b9.set(bT,cf.encode(ff()));b9.set(eJ,eh());b9.set(fb,f0())};var ff=function(){var f3=a5()+"//"+v+"/api/site/1.0/"+a0()+"/leadhunter/script/"+b9.get(aR)+"/widget?visit_id="+o();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+f3+'" frameborder="0"></iframe></div>'};var d1=function(){var f4=b9.getObject(r);if(f4===null){return}b9.set(T,"");var f8=Number(b9.get(bB));var gc=Object.keys(f4);var f9=gc.sort()[0];if(!f8){return f9}for(var f7=0;f7<gc.length;f7++){var gd=f4[gc[f7]];var ga=gd.targetPageList;var f6=bD(ga.join(","));var f5=ga.length===0;var f3=Array.isArray(gd.devicesFilter)&&gd.devicesFilter.length>0?gd.devicesFilter.indexOf(D())!==-1:true;var gb=(f5||f6)&&f3&&(!gd.timetable.isEnabled||K(gd.timetable));if(gb){f9=gc[f7];b9.set(T,f9)}}return f9};var eh=function(){var f3=e6();return f3!==null?f3.targetPageList.join(","):""};var f0=function(){var f3=e6();return f3!==null?Number(f3.isPulsatorEnabled):0};var e6=function(){var f3=b9.get(aR);var f4=JSON.parse(b9.get(r));return f4[f3]!==null?f4[f3]:null};cs(fa);cc.roistatLeadHunterShow=eO;cc.roistatRenderPhoneMask=ez;cc.roistat.leadHunter.localization.translateToRussian=function(){e9(bP)};cc.roistat.leadHunter.localization.translateToEnglish=function(){e9(dk)}},multiwidget:function(){var eA="roistat-multiwidget-hidden",eK="roistat-multiwidget-pulsator-phone",eI="roistat-multiwidget-pulsator-popup-item-lead-hunter",eb="roistat-multiwidget-pulsator-fill",eN="roistat-multiwidget-pulsator-fill-svg",er="roistat-multiwidget-pulsator-img-icon",ea="roistat-multiwidget-pulsator-popup-item-chat",dX="roistat-multiwidget-pulsator-popup-item-facebook",d2="roistat-multiwidget-pulsator-popup-item-vk",eq="roistat-multiwidget-pulsator-popup-item-telegram",eh="roistat-multiwidget-pulsator-popup-item-whats-app",ef="roistat-multiwidget-pulsator-popup-item-viber",ev="roistat-multiwidget-pulsator-items-popup-holder",ep="iframe_chat_successfully_loaded",d4="roistat-multiwidget-pulsator-popup-tail",en="roistat-online-chat-popup-wrapper",eM="roistat-online-chat-popup-wrapper-hidden",eG="roistat-multiwidget-pulsator-holder-hidden";var d9,eu,ei,eJ,dU,d0,eL,em,d6,dW,d7,dY,eC,dZ;var ee=false;var eH={topLeft:{bottom:"unset",right:"unset",top:dq()?0:"20px",left:dq()?0:"35px",},topRight:{bottom:"unset",right:dq()?0:"35px",top:dq()?0:"20px",left:"unset"},bottomRight:{bottom:dq()?0:"20px",right:dq()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:dq()?0:"20px",right:"unset",top:"unset",left:dq()?0:"35px",}};var d3={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eg={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function ez(eP){y("Multiwidget: "+eP)}function eo(){eu=dM(d9,eK);ei=dM(d9,ev);eJ=dM(d9,d4);em=dM(ei,eI);d6=dM(ei,ea);dW=dM(ei,d2);d7=dM(ei,dX);dY=dM(ei,eq);eC=dM(ei,eh);dZ=dM(ei,ef);dU=dM(eu,eb);d0=eu.getElementsByClassName(eN);eL=dM(eu,er)}function ec(){if(dT(ei)){ei.classList.toggle(eA)}}function eF(eP){if(dT(eP)){eP.classList.toggle("opened")
}}function eO(){ez("add pulsator events");dS(eu,"click",function(){if(!ek()){ec()}eF(eu)});dS(em,"click",function(){ez("opening leadhunter via multiwidget");cc.roistatLeadHunterShow();ec();dC(eu,"opened",false)});dS(d6,"click",function(){ez("opening online chat via multiwidget");cc.roistatOnlineChatShow();ec()});dS(dW,"click",function(){cc.open(b9.get(cI),"_blank")});dS(d7,"click",function(){cc.open(b9.get(c2),"_blank")});dS(dY,"click",function(){cc.open(b9.get(bk),"_blank")});dS(eC,"click",function(){cc.open(b9.get(bz),"_blank")});dS(dZ,"click",function(){cc.open(b9.get(cx),"_blank")})}function ek(){var eP=dM(G,en);return dT(eP)&&!eP.classList.contains(eM)}function el(){return dT(ev)&&!ev.classList.contains(eA)}function d1(eP){if(dT(eP)){eP.classList.add(eA)}}function ex(eP){if(dT(eP)){eP.classList.remove(eA)}}function es(){d1(em)}function ej(){ez("hiding disabled multiwidget options");var eP=Number(b9.get(bB)),eQ=Number(b9.get(bV)),eS=Number(b9.get(O)),eU=Number(b9.get(cu)),eR=Number(b9.get(cF)),eT=Number(b9.get(dv));if(!eP||!dB||!dw){ez("hiding leadhunter option");es()}if(!dF()||!ee){ez("hiding online chat option");d1(d6)}if(!eQ){ez("hiding vk-messenger option");d1(dW)}if(!eS){ez("hiding fb-messenger option");d1(d7)}if(!eU){ez("hiding telegram-messenger option");d1(dY)}if(!eR){ez("hiding whatsApp-messenger option");d1(eC)}if(!eT){ez("hiding Viber-messenger option");d1(dZ)}}function dV(){var eQ=b9.getObject(f);ez("start filling pulsator");if(eQ){if(dT(dU)){dU.setAttribute("style","background: "+eQ.button_color+";")}if(dT(eL)){eL.setAttribute("style","fill: "+eQ.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(d0)){for(var eP=0;eP<d0.length;eP++){d0[eP].setAttribute("style","fill: "+eQ.button_color+";")}}}}function ew(){var eP=b9.getObject(f);return typeof eP.position==="string"&&eP.position!==""?eP.position:"bottomRight"}function et(){if(dT(d9)){var eP=ew();d9.setAttribute("style","top: "+eH[eP].top+";right:"+eH[eP].right+";bottom:"+eH[eP].bottom+";left:"+eH[eP].left+";")}}function ed(){if(dT(eu)){var eP=ew();var eQ=eP==="topLeft"||eP==="bottomLeft"?"margin-right":"margin-left";eu.setAttribute("style",eQ+": auto")}}function ey(){if(dT(ei)){var eP=ew();ei.setAttribute("style","top: "+d3[eP].top+";right:"+d3[eP].right+";bottom:"+d3[eP].bottom+";left:"+d3[eP].left+";")}}function d5(){if(dT(eJ)){var eP=ew();eJ.setAttribute("style","top: "+eg[eP].top+";right:"+eg[eP].right+";bottom:"+eg[eP].bottom+";left:"+eg[eP].left+";border-top-color:"+eg[eP]["border-top-color"]+";border-right-color:"+eg[eP]["border-right-color"]+";border-bottom-color:"+eg[eP]["border-bottom-color"]+";border-left-color:"+eg[eP]["border-left-color"]+";")}}function eD(){et();ed();ey();d5()}function d8(){var eQ=cf.decode(b9.get(cW));if(eQ){ez("appending multiwidget pulsator");var eP=G.createElement("div");eP.innerHTML=eQ;d9=eP.childNodes.item(0);if(!cc.roistat.multiwidget.isVisible){ez("Hide widget");d9.className=d9.className+" "+eG}G.body.appendChild(d9);eo();ej();dV();eD();eO()}}function eB(){ac(cc,"message",function eP(eR){var eQ=typeof eR.data==="string"?eR.data:eR.data.message;if(eQ===ep){ee=true;ex(d6)}})}function eE(){bR();eB();ez("activated");d8()}dG=es;cs(eE)},onlineChat:function(){var eP="iframe-module-created",d4="iframe_chat_successfully_loaded",dW="iframe-online-chat-opened",d1="iframe-online-chat-invite-message",eR="roistat-online-chat-init",fe="roistat-online-chat-reload",e0="roistat-online-chat-update-custom-params",eh="roistat-online-chat-lead_successfully_sent",eV="roistat-online-chat-translate-form",ep="roistat-online-chat-send-lead",e3="roistat_chat_id",fd="roistat_chat_session",eQ="roistat_chat_custom_position",eb,d5,e4,d6,e1,eI,ej,eH;var eD="roistat-online-chat-popup-iframe",em="roistat-online-chat-hidden",e5="roistat-online-chat-holder",eZ="roistat-online-chat-popup-wrapper",eX="roistat-multiwidget-pulsator-phone",dX="roistat-multiwidget-pulsator-popup-item-chat",eG="roistat-online-chat-popup-wrapper-hidden",ek="roistat-online-chat-popup-mouse-track",eC="roistat-online-chat-popup-mouse-track-active",eo="roistat-online-chat-pulsator-fill",e2="roistat-online-chat-pulsator-img",ew="roistat-online-chat-pulsator-phone",ef="roistat-online-chat-pulsator-fill-svg",ea=".roistat-multiwidget-pulsator-items-popup",d8=".roistat-online-chat-pulsator-phone",eA=".roistat-online-chat-popup-wrapper";var el=false,en=false,eK=0,dZ=0;var eE=".roistat-online-chat-holder";var ev="roistat-online-chat-holder-hidden";if(dJ()){eE=".roistat-multiwidget-pulsator-holder";ev="roistat-multiwidget-pulsator-holder-hidden"}var e8;var fc={topLeft:{bottom:"unset",right:"unset",top:dq()?0:"20px",left:dq()?0:"35px",},topRight:{bottom:"unset",right:dq()?0:"35px",top:dq()?0:"20px",left:"unset"},bottomRight:{bottom:dq()?0:"20px",right:dq()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:dq()?0:"20px",right:"unset",top:"unset",left:dq()?0:"35px",}};var eF={topLeft:{top:dq()?"90px":"130px",right:"unset",bottom:"unset",left:dq()?"3%":"65px"},topRight:{top:dq()?"90px":"130px",right:dq()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:dq()?"3%":"65px",bottom:dq()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:dq()?"90px":"130px",left:dq()?"3%":"65px"}};
var e6={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var eO=function(fg){y("onlineChat: "+fg)};var eg=function(){function fg(){return Math.random().toString(36).substr(2,8)}return fg()+fg()+fg()+fg()};var d7=function(){var fg=b9.get(fd);if(!fg){fg=eg();b9.set(fd,fg)}return fg};var dY=function(){var fg={message:eP,detail:{version:S,language:s,projectKey:a0(),visitId:ct(),firstVisit:b9.get(aT),chatId:j(e3),moduleTargetOrigin:cc.location.origin,referrer:cc.location.href,params:dO,sessionUniqueKey:d7()}};e1.contentWindow.postMessage(fg,e1.src)};var ec=function(){var fg={message:dW,detail:{isOpened:e7()}};e1.contentWindow.postMessage(fg,e1.src)};var ee=function(){var fg={message:e0,detail:{params:dO}};e1.contentWindow.postMessage(fg,e1.src)};var dU=function(){var fg={language:s,message:eV};e1.contentWindow.postMessage(fg,e1.src)};var eW=function(){ac(cc,"message",function fg(fj){var fi=typeof fj.data==="string"?fj.data:fj.data.message;var fh=typeof fj.data!=="string"?fj.data.detail:{};eO("event: "+fi+" "+JSON.stringify(fh));switch(fi){case d4:eY();cc.setRoistatOnlineChatCustomParams=es;es(dO);break;case eP:dY();break;case eR:eO("saving chat id = "+fh.chatId);df(e3,fh.chatId,{path:"/"});break;case d1:eO("rendering invite message");eS(fh.message);break;case ep:eO("sending lead");ed(fh.leadData)}})};var er=function(){var fh=cc.roistat.onlineChat.notificationsCustomHolderSelector;var fg=fh!==null;return G.querySelector(fg?fh:eE)};var ed=function(fg){cc.roistatGoal.reach(fg,function(){e1.contentWindow.postMessage(eh,e1.src)})};var eS=function(fn){if(e7()){return}var fi="<div class='roistat-online-chat-message'><img src='"+fn.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+fn.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+fn.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var fm=G.createElement("div");fm.innerHTML=fi;var fl=er();if(dT(fl)){var fo=eJ()?"beforeend":"afterbegin";fl.insertAdjacentHTML(fo,fi);var fk=fl.getElementsByClassName("roistat-online-chat-message-close");var fg=fl.getElementsByClassName("roistat-online-chat-message");var fj=fk[eJ()?fk.length-1:0];var fh=fg[eJ()?fk.length-1:0]}setTimeout(function(){fh.remove()},15000);dS(fh,"click",function(fp){fp.stopPropagation();if(!e7()){eU()}e9()});dS(fj,"click",function(fp){fp.stopPropagation();fh.remove()})};var e9=function(){var fh=er();if(dT(fh)){var fg=fh.getElementsByClassName("roistat-online-chat-message");while(fg.length>0){fg[0].remove()}}};var fb=function(){e1=G.getElementById(eD);if(dT(e1)){dS(e1,"load",function(){eB()})}dS(G,"click",function(fl){var fk=cc.roistat.onlineChat.customTriggerSelector;if(dJ()){var fm=dM(G,eX);var fj=dM(G,dX);var fi=e7()&&fl.target!==fj&&!fj.contains(fl.target);if(fi){dC(fm,"opened",false)}}else{var fg=dM(G,e5);var fh=e7()&&fl.target!==fg&&!fg.contains(fl.target);if(fh){dC(fg,"opened",false)}}if(e7()&&(fl.target.closest(ea)===null&&fl.target.closest(eA)===null&&fl.target.closest(d8)===null&&(fk?fl.target.closest(fk)===null:true))){eU()}})};var dV=function(fi){var fh=e4.getBoundingClientRect().x;var fg=e4.getBoundingClientRect().y;en=true;d0();eK=fi.pageX-fh;if(eJ()){dZ=fi.pageY+fg}else{dZ=fi.pageY-fg}};var eu=function(){en=false;eT();ei()};var d0=function(){if(dT(d5)){d5.classList.add(eC)}};var eT=function(){if(dT(d5)){d5.classList.remove(eC)}};var eL=function(fo){if(en&&dT(e4)){var fg=e4.getBoundingClientRect();var fn=fg.width;var fm=400;var fh=50;var fr=0;var fj=cc.innerHeight-fm;var fp=fo.pageX-eK;var fl=fh;var fi=cc.innerWidth-fh-fn;if(eJ()){fr=cc.innerHeight-(fo.pageY+fg.y)-20}else{fr=fo.pageY-dZ}var fq=fa();var fk=fq==="bottomLeft"||fq==="bottomRight"?"top":"bottom";if(fp>=fl&&fp<=fi){e4.style.left=fp+"px";if(!ff()){e4.style.right="unset"}}if(fr>=50&&fr<=fj){e4.style[fk]=fr+"px"}}};var ei=function(){var fg={position:fa(),top:e4.style.top,left:e4.style.left,bottom:e4.style.bottom,right:e4.style.right};b9.setObject(eQ,fg)};var fa=function(){var fg=b9.getObject(f);var fh=typeof fg.position==="string"&&fg.position!=="";return fh?fg.position:"bottomRight"};var eJ=function(){var fg=fa();return fg==="topLeft"||fg==="topRight"};var ff=function(){var fg=fa();return fg==="topLeft"||fg==="bottomLeft"};var d3=function(){var fg=fa();var fj=cc.roistat.onlineChat.customPosition;var fh=fj&&fj.top!==null?fj.top:eF[fg].top;var fk=fj&&fj.right!==null?fj.right:eF[fg].right;var fl=fj&&fj.bottom!==null?fj.bottom:eF[fg].bottom;var fi=fj&&fj.left!==null?fj.left:eF[fg].left;e4=Z()?dM(eb,e5):dM(eb,eZ);if(dT(e4)){e4.classList.toggle(eG);e4.setAttribute("style","top: "+fh+";right:"+fk+";bottom:"+fl+";left:"+fi+";")
}};var et=function(){if(dT(d5)){var fg=fa();d5.setAttribute("style","top: "+e6[fg].top+";bottom:"+e6[fg].bottom+";height:"+e6[fg].height+";")}};var eq=function(){if(dT(e8)){var fg=fa();e8.setAttribute("style","top: "+fc[fg].top+";right:"+fc[fg].right+";bottom:"+fc[fg].bottom+";left:"+fc[fg].left+";")}};var ey=function(){eO("iframe appending to page");var fg=cf.decode(b9.get(B));eb=G.createElement("div");eb.innerHTML=fg;G.body.appendChild(eb);d5=dM(G,ek);d3();fb()};var ez=function(){var fh=b9.getObject(f);eO("start filling pulsator");if(fh){if(dT(eI)){eI.setAttribute("style","background: "+fh.button_color+";")}if(dT(ej)){ej.setAttribute("style","fill: "+fh.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(eH)){for(var fg=0;fg<eH.length;fg++){eH[fg].setAttribute("style","fill: "+fh.button_color+";")}}}};var eY=function(){var fh=cf.decode(b9.get(bl));var fj=!cD()&&cc.roistatOnlineChatOnly;var fi=(fh&&!dJ()&&dF())||fj;if(fi){eO("pulsator appending to page");var fg=G.createElement("div");fg.innerHTML=fh;e8=fg.childNodes.item(0);if(!cc.roistat.multiwidget.isVisible){eO("Hide widget");e8.className=e8.className+" "+ev}eI=dM(e8,eo);ej=dM(e8,e2);d6=dM(e8,ew);eH=G.getElementsByClassName(ef);G.body.appendChild(e8);eq();d9();ez()}};var d9=function(){if(dT(e8)){dS(e8,"click",function(){eU();d2(e8)})}};function d2(fg){if(dT(fg)){fg.classList.toggle("opened")}}var e7=function(){return dT(e4)&&!e4.classList.contains(eG)};var eU=function(){setTimeout(function(){en=false},3000);if(dT(e4)){e4.classList.toggle(eG)}if(e7()){e9()}ec()};var eN=function(){var fg=er();if(dT(fg)){fg.classList.toggle(ev)}};var ex=function(fg){s=fg;if(!dT(e1)){return}dU()};var eB=function(){el=true;cc.roistatOnlineChatShow=eU;cc.roistatMultiwidgetShow=eN;eO("chat window initialized")};function es(fg){dx(fg);ee()}function eM(){bR();ey();eW()}cc.roistat.onlineChat.localization.translateToRussian=function(){ex(bP)};cc.roistat.onlineChat.localization.translateToEnglish=function(){ex(dk)};cs(eM)}};function dL(dU){y("Widgets: "+dU)}function e(dU){return dU!==dR}function dx(dW){var dV=Object.keys(dW);for(var dU=0;dU<dV.length;dU++){dO[dV[dU]]=dW[dV[dU]]}}function dJ(){var d2=Number(b9.get(bB)),dY=d2&&dB&&dw,d6=Number(b9.get(a6)),dX=dF(),d3=Number(b9.get(bV)),dZ=Number(b9.get(O)),dU=Number(b9.get(cu)),dW=Number(b9.get(cF)),d5=Number(b9.get(dv)),d4=dY||dX||d3||dZ||dU||dW||d5,dV=dY&&!dX&&!d3&&!dZ&&!dU&&!dW&&!d5,d1=dX&&!dY&&!d3&&!dZ&&!dU&&!dW&&!d5,d7=!cD()&&cc.roistatOnlineChatOnly,d0=cD()&&di();y("Is online chat only: "+d7);y("Is rp: "+d7);return d6&&d4&&!d1&&!dV&&!d7&&!d0}function dF(){var dU=Number(b9.get(cG));if(!dU){y("OnlineChat: Online chat is disabled");return false}var dV=b9.getObject(A);if(!dV.is_available_for_current_user_agent){y("OnlineChat: Current device group is disabled");return false}if(!dV.pages_filter.is_enabled){y("OnlineChat: Pages filter is disabled");return true}return bD(dV.pages_filter.pages.join(","))}function dG(){dL("Multiwidget disabled. Hide leadhunter pulsator from module")}function dz(dU,dW,dV){b9.set(bT,cf.encode(dU));b9.set(bp,cf.encode(dW));b9.setObject(bS,dV)}function dE(dV,dU){b9.set(cW,cf.encode(dV));b9.setObject(f,dU)}function dD(dW,dU,dV){b9.set(bl,cf.encode(dW));b9.set(B,cf.encode(dU));b9.set(cG,dV)}function dI(dU,dW,dV){dz(dU,dW,dV);b9.set(cW,cf.encode(dR));b9.set(B,cf.encode(dR));dK=false;dP.leadHunter()}function dy(d5,d1,dZ){var dW=d5.form_template,d6=d5.pulsator_template,dY=d5.pulsator_settings;if(di()){dI(dW,d6,dY);return}dL("start initing widgets");var d2=dZ.pulsator_template,dX=dZ.iframe_template,d4=d1.pulsator_template,dU=d1.pulsator_settings,d0=Number(b9.get(bB)),dV=Number(dZ.settings.is_enabled),d3=b9.getObject(r)!==null;dz(dW,d6,dY);dE(d4,dU);dD(d2,dX,dV);if(d3){b9.set(bT,cf.encode(dA()))}dK=true;if(d0&&!aE()){dL("leadhunter enabled. Start processing");dP.leadHunter()}if(dF()){dL("online chat enabled. Start processing");dP.onlineChat()}if(dJ()){dL("multiwidget enabled. Start processing");dP.multiwidget()}}var dA=function(){var dU=a5()+"//"+v+"/api/site/1.0/"+a0()+"/leadhunter/script/"+b9.get(aR)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+dU+'" frameborder="0"></iframe></div>'};function dQ(){var dW=b9.get(bT),d7=b9.get(bp),dY=b9.getObject(bS),d1=Number(b9.get(bB)),d2=b9.get(bl),dX=b9.get(B),dV=b9.get(cG),d4=b9.get(cW),dU=b9.getObject(f);cc.roistatLeadhunterForm=dI;cc.roistatMultiwidget=dy;if(!dW||!d7||!dY||!d4||!dU||!d2){dL("requesting data from server");if(dJ()||dF()||d1){aS(a5()+"//"+v+"/api/site/"+ae+"/"+a0()+"/multiwidget?domain="+encodeURIComponent(G.domain))}}else{var d6=cf.decode(d4);var d3=cf.decode(dX);if((!e(d6)||!e(d3)||di())&&!aE()){dL("initing LeadHunter form");cc.roistatLeadhunterForm(cf.decode(dW),cf.decode(d7),dY)}else{dL("initing multiwidget form");var dZ={pulsator_template:d6,pulsator_settings:dU},d0={form_template:cf.decode(dW),pulsator_template:cf.decode(d7),pulsator_settings:dY},d5={iframe_template:d3,pulsator_template:cf.decode(d2),settings:{is_enabled:Number(dV),},};
cc.roistatMultiwidget(d0,dZ,d5)}}}function dH(){dQ();dL("Widgets: form initialized")}function dN(){dL("activated");dH()}cs(dN);cc.setRoistatOnlineChatCustomParams=dx;cc.roistatSaveLeadHunterTemplates=dz;cc.roistatSaveMultiwidgetTemplate=dE;cc.roistatSaveOnlineChatTemplate=dD})();(function t(){var dI=function(){return j(dn)};var dG=function(){return b9.get(be)};var dz=function(){return b9.get(br)};var dM=function(dO){return dO!=null&&dO!==bA&&dO!==""};var dL=function(){var dO=[];var dP=G.getElementsByClassName(am);if(dP&&dP.length){dO=dP}return dO};var dx=function(){var dO=[];var dP=G.getElementsByClassName(F);if(dP&&dP.length){dO=dP}return dO};var dw=function(){var dO=[];var dP=G.getElementsByClassName(ag);if(dP&&dP.length){dO=dP}return dO};var dB=function(){var dO=[];var dP=G.getElementsByClassName(I);if(dP&&dP.length){dO=dP}return dO};var dE=function(){var dO=[];var dP=G.getElementsByClassName(de);if(dP&&dP.length){dO=dP}return dO};var e=function(d1,dP){y("CallTracking: RenderPhone phone = "+d1);var dU=function(d3){return d3.split(/[^0-9]/).join("")};var dV=function(d6,d8){var eb=null;if(!d6){return eb}var d3=d8.split(",");if(d3.length<2){eb=d8}else{var d4=d6.getAttribute("data-prefix");if(d4){for(var d7=0;d7<d3.length;d7++){var d9=d3[d7];var ea=dU(d9);if(ea.indexOf("8")===0){ea="7"+ea.substring(1)}var d5=ea.split(d4)[0]==="";if(d5){eb=d9;break}}}if(eb===null){eb=d3[0]}y("CallTracking._getPhoneForElement: Prepared phone = "+eb+" for data-prefix = "+d4)}return eb};var dS=function(d7,d5){var d3=dV(d7,d5);if(!d3||!d7){return}if(d7.tagName.toLowerCase()!=="a"){return}var d6=d7.getAttribute("href");if(cZ(d6,"tel:")){var d4=dU(d3);if(d4.indexOf("8")===0){d4="7"+d4.substring(1)}d7.setAttribute("href","tel:+"+d4);dT(d7,d3)}};var dT=function(d4,d3){if(!d4.hasAttribute("title")){return}d4.setAttribute("title",d3)};var dX=function(d5,d4){var d3=dV(d5,d4);if(!d3||!d5){return}d5.innerHTML=d3};var d2=function(d3){var d4=dL();y("CallTracking: render phone default classes for "+d4.length+" elements");q(d4,function(d5){dX(d5,d3);dS(d5,d3)});q(dx(),function(d6){var d5=dU(dV(d6,d3)).slice(0,1);dX(d6,d5)});q(dw(),function(d6){var d7=dV(d6,d3).match(/\((.*)\)/);if(d7!==null){var d5=d7[1];dX(d6,d5)}});q(dB(),function(d7){var d5=dV(d7,d3).match(/\)(.*)/);if(d5!==null){var d8=dU(d5[1]);var d6=d8.slice(-1*d8.length,-4)+"-"+d8.slice(-4,-2)+"-"+d8.slice(-2);dX(d7,d6)}});q(dE(),function(d5){dS(d5,d3)})};var d0=function(d3,d8){if(!d8){return}y("CallTracking: render phone user replacement for "+d8.length+" replacements");for(var d7=0;d7<d8.length;d7++){var ea=d8[d7];if(!ea){continue}var d5=ea[0];ea=ea.substr(1);var d9=[];if(d5==="#"){var d6=G.getElementById(ea);if(d6!==null){d9.push(d6)}}else{d9=G.getElementsByClassName(ea);dR(ea,d3)}if(!d9||d9.length<1){continue}y("CallTracking: render phone for "+ea+", "+d9.length+" elements");for(var d4=0;d4<d9.length;d4++){dX(d9[d4],d3);dS(d9[d4],d3)}}};var dW=function(d3){for(var d4=0;d4<d3.length;d4++){d0(d3[d4].phone,d3[d4].css_selectors);dZ(d3[d4].phone,d3[d4].replaceable_numbers)}};var dZ=function(d5,d4){if(!d4||d4.length===0){return}var d3=function(){var eg=d9();var ef=G.getElementsByTagName("*");var ea=ef.length;for(var ee=0;ee<ea;ee++){var eh=ef[ee];d6(eh,eg,dV(eh,d5));var ed=eh.childNodes.length;for(var eb=0;eb<ed;eb++){var ec=eh.childNodes[eb];d8(ec,eg,dV(ec,d5))}}};var d6=function(ee,ed,ea){if(!d7(ee)){return}var ef=ee.getAttribute("href").replace("tel:","");var ec=ed.length;for(var eb=0;eb<ec;eb++){if(ed[eb].test(ef)){dS(ee,dV(ee,ea))}}};var d7=function(eb){if(eb.tagName.toLowerCase()!=="a"){return false}var ea=eb.getAttribute("href");return aW(ea)&&ea.indexOf("tel:")===0};var d9=function(){var ec=[];for(var ea=0;ea<d4.length;ea++){var eb="[\\s()[\\]{}\\-+.]*";var ed=d4[ea].split("").join(eb);ec.push(new RegExp("[+(]?"+ed,"g"))}return ec};var d8=function(ed,ec,ea){if(ed.nodeType!==Node.TEXT_NODE){return}for(var eb=0;eb<ec.length;eb++){if(ed.textContent&&ec[eb].test(ed.textContent)){ed.textContent=ed.textContent.replace(ec[eb],ea)}else{if(ed.innerText&&ec[eb].test(ed.innerText)){ed.innerText=ed.innerText.replace(ec[eb],ea)}}}};d3()};var dR=function(d4,d3){q(dQ(d4+"-"+bH),function(d6){var d5=dU(dV(d6,d3)).slice(0,1);dX(d6,d5)});q(dQ(d4+"-"+aK),function(d6){var d7=dV(d6,d3).match(/\((.*)\)/);if(d7!==null){var d5=d7[1];dX(d6,d5)}});q(dQ(d4+"-"+bd),function(d7){var d5=dV(d7,d3).match(/\)(.*)/);if(d5!==null){var d8=dU(d5[1]);var d6=d8.slice(-1*d8.length,-4)+"-"+d8.slice(-4,-2)+"-"+d8.slice(-2);dX(d7,d6)}});q(dQ(d4+"-"+bZ),function(d5){dS(d5,d3)})};var dQ=function(d4){var d3=[];var d5=G.getElementsByClassName(d4);if(d5&&d5.length){d3=d5}return d3};var dY=function dY(){var d4=dz();if(d4){d4=d4.split("\n");for(var d3=0;d3<d4.length;d3++){d4[d3]="."+d4[d3]}}if(dP instanceof Array){dW(dP)}else{d2(d1);d0(d1,d4)}};(function dO(){dY();var d3=[300,5000,15000];d3.forEach(function(d4){setTimeout(dY,d4)})})()};var dy=function(dO){b9.save(n,dO,cN)};var dH=function(){if(cc.roistat.callTracking.phone){var dO={expires:parseInt(cc.roistat.callTracking.sessionTime),path:"/"};
if(cN.domain){dO.domain=cN.domain}df(dn,cc.roistat.callTracking.phone,dO);dy(1);b9.save(br,cc.roistat.callTracking.replacementClasses,cN);b9.save(be,cc.roistat.callTracking.phoneScriptsJson,cN)}};var dF=function(dO,dS,dQ,dP){y("CallTracking: reuse phone "+dO+" for time "+dS+" and replacements "+dQ);if(!dM(dO)){y("CallTracking: new phone is invalid");roistat.callTracking.phone=null;c3();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=dO;roistat.callTracking.sessionTime=dS;roistat.callTracking.replacementClasses=dQ;roistat.callTracking.phoneScriptsJson=dP;c3();dH();var dT={expires:parseInt(dS),path:"/"};if(cN.domain){dT.domain=cN.domain}df(dn,dO,dT);b9.save(be,dP,cN);b9.save(br,dQ,cN);var dR=c7(dP);if(dR==null){e(dO)}else{e(dO,dR)}};var dA=function(){y("CallTracking: request new phone");var dO=j(b4);var dS=ai();var dR=dS?dS:bs;var dQ=encodeURIComponent(cq);var dP=M()+"/get-phone?visit="+dO+"&marker="+(dR?dR:"")+"&prefix="+cA+"&prefix_bind="+dp+"&phone_scripts_bind="+P+"&page="+dQ;aS(dP)};var dC=function(){cA=cc.roistatPhonePrefix?cc.roistatPhonePrefix:"";dp=cc.roistatPhonePrefixBind?cc.roistatPhonePrefixBind:"";P=cc.roistatCalltrackingScripts&&cc.roistatCalltrackingScripts.join?cc.roistatCalltrackingScripts.join(","):"";y("CallTracking: refresh phone with prefix: "+cA+", binding: "+dp+", scripts: "+P);dA()};var dN=function(){var dO=b9.get(n)>0;var dP=bU.callTrackingEnabled;return dO&&dP};var dD=function(dO){dy(dO.is_enabled)};var dK=function dK(){var dO=dI();if(!dM(dO)){y("CallTracking: invalid phone "+dO+", requesting a new one");dA()}else{y("CallTracking: render phone "+dO);var dP=c7(dG());if(dP==null){e(dO)}else{e(dO,dP)}}};var dJ=function(){y("CallTracking: init");if(aE()){y("CallTracking: Shut down because only online chat need to be inited");return}dH();if(!dN()){y("CallTracking: disabled, skip");return}if(bU.callTrackingManual){y("CallTracking: init finish because off manual");return}dK();ar(dK)};cc.roistatCallTrackingRefresh=dC;cc.roistatRequestNewPhone=dA;cc.roistatReusePhone=dF;cc.roistatCalltrackingUpdateSettings=dD;cs(dJ)})();(function C(){var dx=function(dD){y("Emailtracking: "+dD)};var dB=function(dD,dF,dE){b9.save(bq,dD,cN);b9.save(b,dF,cN);b9.save(bE,JSON.stringify(dE),cN)};var dw=function(){var dD=(cc.roistat.emailtracking.email&&cc.roistat.emailtracking.trackingEmail)||aL(cc.roistat.emailtracking.emails);if(cc.roistat.emailtracking.loaded&&dD){dx("save loaded email: "+cc.roistat.emailtracking.email);dB(cc.roistat.emailtracking.email,cc.roistat.emailtracking.trackingEmail,cc.roistat.emailtracking.emails)}else{dx("settings save skip, because not loaded");cc.roistat.emailtracking.email=b9.get(bq);cc.roistat.emailtracking.email=cc.roistat.emailtracking.email?cc.roistat.emailtracking.email:null;cc.roistat.emailtracking.email=cc.roistat.emailtracking.email==="null"?null:cc.roistat.emailtracking.email;dx("email loaded from storage: "+cc.roistat.emailtracking.email);cc.roistat.emailtracking.trackingEmail=b9.get(b);cc.roistat.emailtracking.trackingEmail=cc.roistat.emailtracking.trackingEmail?cc.roistat.emailtracking.trackingEmail:null;cc.roistat.emailtracking.trackingEmail=cc.roistat.emailtracking.trackingEmail==="null"?null:cc.roistat.emailtracking.trackingEmail;dx("tracking email loaded from storage: "+cc.roistat.emailtracking.trackingEmail);cc.roistat.emailtracking.emails=c7(b9.get(bE));cc.roistat.emailtracking.emails=cc.roistat.emailtracking.emails?cc.roistat.emailtracking.emails:null;dx("emails loaded from storage: "+JSON.stringify(cc.roistat.emailtracking.emails))}};var dz=function(dD){dB(dD.email,dD.trackingEmail,dD.emails)};var dy=function(){var dD=(!!cc.roistat.emailtracking.email&&!!cc.roistat.emailtracking.trackingEmail)||aL(cc.roistat.emailtracking.emails);return cc.roistat.emailtracking.enabled&&dD};var e=function(){if(!dy()){dx("emailtracking disabled, skip swapping");return}var dE=function(dJ,dK,dI){if(dJ.href){var dH=ay(dJ.href);if(dK.test(dH)){dJ.href=dH.replace(dK,dI);return true}}if(dJ.nodeType!==3){return false}if(dJ.textContent&&dK.test(dJ.textContent)){dJ.textContent=dJ.textContent.replace(dK,dI);return true}else{if(dJ.innerText&&dK.test(dJ.innerText)){dJ.innerText=dJ.innerText.replace(dK,dI);return true}}return false};var dD=function(dH){return dH.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var dF=function(dJ,dI){var dH=!dI.match(/[a-z]/);return dH?dJ.toUpperCase():dJ};var dG=function(dP,dR){var dS=dD(dP);var dJ=new RegExp("(^|\\s)(mailto:)?("+dS+")($|\\s|\\?)","gi");var dT=function(dY,dW,dU,dV,dX){dU=dU||"";return dW+dU+dF(dR,dV)+dX};dx("starting to replace email "+dP+" to "+dR+" with regexp "+dJ);var dI=G.getElementsByTagName("*");var dL=dI.length;dx("found "+dL+" nodes on page");var dO=0;for(var dN=0;dN<dL;dN++){var dK=dI[dN];var dQ=dK.childNodes.length;if(dQ>0){for(var dM=0;dM<dQ;dM++){var dH=dK.childNodes[dM];if(dE(dH,dJ,dT)){dO++}}}if(dE(dK,dJ,dT)){dO++}}dx("successfully replaced "+dO+" nodes")};if(cc.roistat.emailtracking.emails){bh(cc.roistat.emailtracking.emails,dG)
}else{dG(cc.roistat.emailtracking.email,cc.roistat.emailtracking.trackingEmail)}};var dA=function(){dx("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var dC=function(){dx("init");if(aE()){dx("Shut down because only online chat need to be inited");return}ar(dA);dw();dA()};cc.roistatEmailtrackingUpdateSettings=dz;cc.roistat.emailtracking.refresh=e;cs(dC)})();(function bj(){var dy=function(dA){y("MultiDomain: "+dA)};var dx=function(){return b9.get(cP)>0};var dw=function(dE){var dF=function(dH){if(!dH){return false}if(cZ(dH,"roistat_visit")){return false}var dG=a4(dH);var dJ=a4(G.domain);var dI=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return dG!==dJ&&dI.test(dH)};var dD=function(dJ){var dK=dJ.split("#");var dI=dK[0].split("?");var dG="";var dH="";if(dI.length===2){dG=dI[1]}if(dG){dH="&"}dG=dG+dH+"roistat_visit="+roistat.getVisit();dI[1]=dG;dK[0]=dI.join("?");return dK.join("#")};if(dE.tagName.toLowerCase()!=="a"){return}var dC=dE.getAttribute("href");var dB=false;if(dF(dC)){var dA=dD(dC);dy("update url "+dC+" > "+dA);dE.setAttribute("href",dA);dB=true}return dB};var e=function(){if(!dx()){dy("disabled, skip");return}var dA=G.getElementsByTagName("a");var dB=dA.length;dy("found "+dB+" <a> nodes on page");var dE=0;for(var dC=0;dC<dB;dC++){var dD=dA[dC];if(dw(dD)){dE++}}dy("replaced "+dE+" nodes")};var dz=function(){dy("init");if(aE()){dy("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cs(dz)})();(function cY(){var e=60*1000;var dC=2*60*1000;var dw=function(dE){y("SettingsUpdater: "+dE)};var dA=function(){b9.set(W,cg())};var dB=function(){var dF=c4();var dE=!(dF>0);dw("is first update check: lastUpdateTime="+dF+", result="+(dE?1:0));return dE};var dD=function(){var dG=cg()-dC;var dF=c4();var dE=dF<=dG;dw("expiration check: _minTime="+dG+", lastUpdateTime="+dF+", result="+(dE?1:0));return dE};var dx=function(dF){var dE=j(b4);a(dE,dF)};var dy=function(dF){dw("update settings and save last update time");var dE=b9.getObject(r)!==null;if(dE){b9.set(r,dF.js_settings.leadHunterTargetPagesMap)}cc.roistatCalltrackingUpdateSettings(dF.calltracking);cc.roistatEmailtrackingUpdateSettings(dF.emailtracking);cc.roistatSaveLeadHunterTemplates(dF.leadhunter_templates.form_template,dF.leadhunter_templates.pulsator_template,dF.leadhunter_templates.pulsator_settings);cc.roistatSaveMultiwidgetTemplate(dF.multiwidget_templates.pulsator_template,dF.multiwidget.pulsator_settings);cc.roistatSaveOnlineChatTemplate(dF.online_chat_templates.pulsator_template,dF.online_chat_templates.iframe_template);cc.roistatSaveProxyFormSettings(dF.proxy_forms);a7(dF.js_settings);cO(dF.multiwidget.multiwidget_settings);cd(dF.online_chat);u(dF.geo);co(dF.promo_code);b6.isSettingsUpdating=false;dA()};var dz=function(){dw("init");if(dB()){dw("in first update we just start first timer and skip");dA();return}if(!dD()){dw("update is not not expired, skip");return}dw("start to update settings");dx()};cs(function(){cc.roistatUpdateSettings=dy;setTimeout(function(){dz()},3000);dw("set interval to update settings");setInterval(function(){dz()},e)})})();(function bM(dz,e,dB){var dy={};var dw=function(dD){var dC=encodeURIComponent?encodeURIComponent:encodeURI;return dC(dD)};var dx=function(dJ,dD){y("Reach goal start");if(!dJ){dJ={}}var dG={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:ct(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var dF in dG){if(!Object.prototype.hasOwnProperty.call(dG,dF)){continue}if(!Object.prototype.hasOwnProperty.call(dJ,dF)){continue}if(!dJ[dF]){continue}if(dF==="fields"||dF==="client_fields"||dF==="items"||dF==="placeholders_data"){dJ[dF]=JSON.stringify(dJ[dF])}dG[dF]=dw(dJ[dF])}var dI=a0();var dH=a5()+"//"+v+"/api/site/"+ae+"/"+dI+"/reach-goal?v=2";for(var dE in dG){if(!Object.prototype.hasOwnProperty.call(dG,dE)){continue}dH=dH+"&"+dE+"="+dG[dE]}if(dD!==dB){var dC=Math.random().toString();dy[dC]=dD;dH+="&callback_key="+dC}aS(dH);y("Reach goal completed")};var dA=dz.roistatGoal={reach:function(dD,dC){dx(dD,dC)},callAfterReachCallback:function(dC){if(Object.prototype.hasOwnProperty.call(dy,dC)){dy[dC]();delete dy[dC]}}}})(cc,G,bA);(function dh(dx,e,dy){var dw=function(dD){if(dD instanceof Array||dD===null||typeof dD!=="object"){y("Invalid event data");return""}var dA=[];for(var dC in dD){if(Object.prototype.hasOwnProperty.call(dD,dC)){var dB=dD[dC];if(typeof dB==="string"||typeof dB==="number"){dA.push("data["+encodeURIComponent(dC)+"]="+encodeURIComponent(dB))}else{y("Event data property ignored: "+dC)}}}return dA.length>0?"&"+dA.join("&"):""};var dz=function(dC,dD){y("Send event start");var dA=o();var dB=M()+"/event/register?visit="+dA+"&event="+dC+dw(dD);aS(dB);y("Send event completed")};dx.roistat.event={send:function(dA,dB){dz(dA,dB)
}}})(cc,G,bA);(function ca(dF,dH,dy){if(aE()){y("VisitApprove: Shut down because only online chat need to be inited");return}var dI=dF.roistatIsInitVisit===true?20000:10000;var dx=(new Date()).getTime();var dw=function(dM){return"approve_visit_"+dM};var dE=function(dM){b1.set(dw(dM),1)};var dJ=function(dM){return b1.get(dw(dM))>0};var e,dA,dL=[];if(dH.addEventListener){e=function(dN,dM,dO){return dN.addEventListener(dM,dO,false)};dA=function(dN,dM,dO){return dN.removeEventListener(dM,dO,false)}}else{e=function(dN,dM,dO){return dN.attachEvent("on"+dM,dO)};dA=function(dN,dM,dO){return dN.detachEvent("on"+dM,dO)}}var dD=function(dP){if(dL.length>30){return}dP=dP||dF.event;if(!dP||!dP.screenX){return}var dO=(new Date()).getTime();var dR,dQ=null;if(dL.length>0){dQ=dL[dL.length-1]}if(dQ){dR=dO-dQ.time}else{dR=dO-dx}if(dR<300){return}dR=dR-300;var dT=0;var dM=dP.screenX;var dS=dP.screenY;if(dQ){dT=parseInt(Math.sqrt(Math.pow(dQ.y-dS,2)+Math.pow(dQ.x-dM,2)))}var dN={time:dO,pauseBeforeMove:dR,x:dM,y:dS,distance:dT};dL.push(dN)};var dC=function(){var dM=[];q(dL,function(dN){var dO=[dN.pauseBeforeMove,dN.distance];dM.push(dO.join(":"))});if(dM.length===0){dM.push("0:0")}return dM.join("|")};var dz=function(){for(var dM in dF){if(cZ(dM,"yaCounter")){return true}}return false};var dG=function(){dA(dH,"mousemove",dD);var dM=o();y("VisitApprove: start for visit "+dM);if(dJ(dM)){y("VisitApprove: visit already approved, skip");return}dE(dM);av();var dN=M()+"/approve?v="+S+"&visit="+dM;if(dK()){dN+="&hash="+an()}if(dB()){dN+="&page_params="+encodeURIComponent(JSON.stringify(dF.roistat.page.params));g()}dN+="&mv="+dC();dN+="&pl="+(dF.navigator?dF.navigator.platform:"");dN+="&ym="+(dz()?"1":"0");aS(dN)};var dK=function(){var dQ=b6.cookies,dP=m();var dS=ba();for(var dN=0;dN<dS.length;dN++){var dR=dS[dN];var dT=Object.prototype.hasOwnProperty.call(dQ,dR)?dQ[dR]:dy;var dM=Object.prototype.hasOwnProperty.call(dP,dR)?dP[dR]:dy;var dO=typeof dM==="string"&&dM.length>0;if(dO&&dT!==dM){return true}}return false};var dB=function(){var dR=b6.pageParams,dO=dF.roistat.page.params;for(var dN=0;dN<cB.length;dN++){var dM=cB[dN];var dP=Object.prototype.hasOwnProperty.call(dR,dM)?dR[dM]:null;var dQ=Object.prototype.hasOwnProperty.call(dO,dM)?dO[dM]:null;if(dQ!==dP){return true}}return false};setTimeout(function(){dG()},dI);e(dH,"mousemove",dD)})(cc,G,bA);(function at(dA,dB,dw){var dy=function(){return V("roistat_ab_demo")==="1"};var dC=function(dF){return new RegExp(dF.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dz=function(dK){var dF=dA.location.href,dI=dK.filter,dO=dK.filterValue;var dL;switch(dI){case"except":case"pages":var dG,dN,dM=false;dN=dF?aG(dF):"";dL=dO?dO.split("\n"):[];if(dN&&dL.length!==0){for(var dH=0;dH<dL.length;dH++){var dJ=dL[dH].trim();if(dJ.length===0){continue}dG=dC(dJ);if(dG.test(dN)){dM=true;break}}}return(dI==="pages")?dM:!dM;break;case"all":default:return true}};var e=function(dH){var dF=dB.getElementsByTagName("head")[0],dG;dG=dB.createElement("style");dG.setAttribute("type","text/css");if(dG.styleSheet){dG.styleSheet.cssText=dH.value}else{dG.innerText=dH.value}dF.appendChild(dG)};var dx=function(dF){if(dz(dF)){switch(dF.type){case"css":e(dF);break}}};dA.applyTests=function(){var dF=b9.getObject("abTesting");var dH,dG;for(dH in dF){if(!Object.prototype.hasOwnProperty.call(dF,dH)){continue}dG=dF[dH];dx(dG)}};var dD=function(){y("Call: apply demo AB test");var dF=V("roistat_ab_data");var dG;if(dF===null){return}else{dG=JSON.parse(cf.decode(dF))}if(typeof dG!=="object"){y("Error: testValue is not an object.");return}dx(dG)};function dE(){if(aE()){y("ABTest: Shut down because only online chat need to be inited");return}var dF=dy();if(!cU&&!dF){applyTests()}if(dF){dD()}}dE()})(cc,G,bA);(function cy(dw,e,dx){if(aE()){y("visitStream: Shut down because only online chat need to be inited");return}if(!cX){return}setTimeout(function(){(function(dE,dD,dH,dG,dB,dz,dC){dE[dB]={COUNTER_ID:dz,HOST:dC};var dA=dD.location.protocol=="https:"?"https://":"http://";var dy=dD.createElement(dH);dy.async=1;dy.src=dA+dC+dG;var dF=dD.getElementsByTagName(dH)[0];dF.parentNode.insertBefore(dy,dF)})(dw,e,"script","/counter.js","datamap",a0(),cX)},1000)})(cc,G,bA);(function b8(dx,e,dy){var dz=function(){var dA=dx.roistatMetrikaCounterId;if(dA){b9.set(aU,dA)}};var dw=function(dF){var dA="yaCounter"+dF;var dE=100,dC=0,dD=60000;var dB=function(){dC+=dE;y("YandexMetrika: trying to access counter "+dF);if(dx[dA]===dy){if(dC<dD){setTimeout(dB,dE);dE*=2}return}var dG={};dG[cK]=o();dx[dA].params(dG);y("YandexMetrika: visit id "+dG[cK]+" sent to counter "+dF)};setTimeout(dB,dE)};cs(function(){dz();var dC=b9.get(aU);if(!dC){y("YandexMetrika: counter id not found");return}var dB=String(dC).split(",");y("YandexMetrika: counters: "+dB);for(var dA=0;dA<dB.length;dA++){if(dB[dA].trim()===""){continue}dw(dB[dA])}})})(cc,G,bA);(function ao(dF,dJ){var dN=function(dQ){y("Proxy Forms: "+dQ)};var dC=function(){if(dF.roistat.proxyForms.loaded&&dF.roistat.proxyForms.settings.length>0){dN("save loaded settings");
dK(dF.roistat.proxyForms.settings)}else{dN("settings not loaded, getting from storage");dF.roistat.proxyForms.settings=b9.getObject(dg)||[]}};var dK=function(dQ){b9.setObject(dg,dQ)};var dG=function(){dN("init form listener");dy(dF.roistat.proxyForms.settings);e(dF.roistat.proxyForms.settings)};var dP=function(dQ){return dQ.hasOwnProperty("hosts")&&dQ.hasOwnProperty("is_excluding_hosts")&&bo(dQ.hosts)&&dQ.hosts.length>0};var dA=function(dR){if(!dP(dR)){return true}var dS=c5(dR.hosts,a4(dF.location.host));var dQ=Boolean(dR.is_excluding_hosts);return dQ?!dS:dS};var dx=function(dR){var dQ=[];q(dR,function(dS){if(dA(dS)){dQ.push(dS)}});return dQ};var e=function(dQ){var dS=[];q(dQ,function(dT){if(dT.type==="js-button"){dS.push(dT)}});if(dS.length<1){dN("no button settings");return}var dR;if(dJ.addEventListener){dR=function(dT){dB(dS,dT,dT.target,dz)};dJ.addEventListener("click",dR,true)}else{if(dJ.attachEvent){dR=function(){var dT=dF.event;dB(dS,dT,dT.srcElement,dz,true)};dJ.attachEvent("onclick",dR)}else{dN("Listener could not be attached")}}};var dy=function(dR){E("Proxy form debug: start");var dQ=[];q(dR,function(dT){if(dT.type==="form"){dQ.push(dT)}});if(dQ.length<1){dN("no form settings");return}if(dJ.addEventListener){var dS=function(dT){dB(dQ,dT,dT.target,dO)};dJ.addEventListener("submit",dS,true)}else{if(dJ.attachEvent){setInterval(function(){dQ=dx(dQ);var dT=dJ.getElementsByTagName("form");q(dT,function(dU){if(dU.getAttribute("data-roistat-proxy-form-checked")==="true"){return}dU.setAttribute("data-roistat-proxy-form-checked","true");q(dQ,function(dV){if(dw(dU,dV.selector)){dU.attachEvent("onsubmit",function(){dF.event.returnValue=false;E("Proxy form debug: start sending form lead");dO(dV,dF.event.srcElement)})}})})},2000)}else{dN("Listener could not be attached")}}};var dB=function(dT,dU,dV,dS,dQ){var dW=dx(dT);var dR=null;q(dW,function(dX){if(dw(dV,dX.selector)){dR=dX}});if(dR===null){dN("No matched settings found for listener");return}dS(dU,dR,dV,dQ)};var dO=function(dU,dS,dT,dR){var dQ=dI(dT,dS);if(!dL(dQ,dS)){E("Proxy form debug: lead fields is not valid");return}dR?dU.returnValue=false:dU.preventDefault();E("Proxy form debug: sending lead");dD(dQ,dS,function(){HTMLFormElement.prototype.submit.call(dT)})};var dz=function(dS,dR){var dQ=dI(null,dR);if(!dL(dQ,dR)){return}dD(dQ,dR)};var dD=function(dQ,dT,dV){var dU={};var dS=dE(dT.crm)&&dT.crm.hasOwnProperty("is_enabled");var dR=dS?dT.crm.is_enabled:true;dU.leadName=dT.hasOwnProperty("lead_name")?dT.lead_name:"Новый лид с формы "+dT.title;dU.formTitle=dT.title;dU.name=dQ.name;dU.phone=dQ.phone;dU.email=dQ.email;dU.text=dQ.comment;dU.fields=dQ.fields;dU.placeholders_data=dQ.placeholdersData;dU.is_need_callback=dT.is_need_callback>0?1:0;dU.is_skip_sending=!dR;dF.roistatGoal.reach(dU,dV)};var dE=function(dQ){return(typeof dQ==="number"&&!isNaN(dQ))||(typeof dQ==="string"&&dQ!=="")||(typeof dQ==="object"&&dQ!==null)||(typeof dQ==="boolean"&&dQ)||bo(dQ)};var dL=function(dQ,dS){var dR=[],dU=["name","email","phone","comment"];q(dU,function(dV){if(dS.hasOwnProperty(dV)&&dS[dV].required>0){dR.push(dV)}});if(bo(dS.fields)){q(dS.fields,function(dV){if(dV.required>0){dR.push(dV)}})}var dT=true;q(dR,function(dV){if(!dQ.hasOwnProperty(dV)||!dE(dQ[dV])){dT=false}});return dT};var dI=function(dS,dR){var dQ={};dQ.name=dR.name?dH(dS,dR.name.value,dR.name.type):"";dQ.phone=dR.phone?dH(dS,dR.phone.value,dR.phone.type):"";dQ.email=dR.email?dH(dS,dR.email.value,dR.email.type):"";dQ.comment=dR.comment?dH(dS,dR.comment.value,dR.comment.type):"";dQ.fields={};dQ.placeholdersData={orderPage:cq};if(bo(dR.fields)){q(dR.fields,function(dT){dQ.fields[dT.name]=dH(dS,dT.value,dT.type)})}return dQ};var dH=function(dR,dU,dQ){switch(dQ){case"plain":return dU||"";case"input":var dT=dR.querySelector('input[name="'+dU+'"]');return dT?dT.value:"";case"js":try{return(new Function(dU))()}catch(dS){return""}}};var dM=function(){dN("init");if(aE()){dN("Shut down because only online chat need to be inited");return}if(!dF.roistat.proxyForms.enabled){dN("disabled");return}dC();dG()};var dw=function(dT,dR){if(typeof Element!=="undefined"&&Element.prototype.matches){var dQ=dT.matches(dR);if(!dQ){return dT.closest(dR)?dT.closest(dR).matches(dR):false}return dQ}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var dU=dT.matchesSelector(dR);if(!dU){return dT.closest(dR)?dT.closest(dR).matches(dR):false}return dU}else{if(dJ.querySelectorAll){var dV=dJ.querySelectorAll(dR);for(var dS=0;dS<dV.length;dS++){if(dV[dS]===dT){return true}}return false}}}return false};cs(dM);dF.roistatSaveProxyFormSettings=dK})(cc,G);(function L(){if(cc.onRoistatAllModulesLoaded!==bA&&typeof cc.onRoistatAllModulesLoaded==="function"){y("onRoistatAllModulesLoaded: call");cc.onRoistatAllModulesLoaded()}})();(function a1(dC,dF,dz){var e=function(){return b9.get(aj)*1>0};var dE=function(dL){y("Request listener: "+dL)};var dK=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;
var dD=/^[^\s]+[@][^\s]+$/g;var dy=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dx=function dx(){dE("listen");if(dC.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function dN(dQ){var dP=this;dG(dP.responseURL,dQ,function(){dP.oldSend(dQ)})}XMLHttpRequest.prototype.send=dN}if(dC.ActiveXObject){var dM=dO;function dO(dR){var dP=new dM(dR);var dS={};if(dR.toLowerCase()==="msxml2.xmlhttp"){dS={_ax:dP,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var dQ="";dS._onReadyStateChange=function(){var dT=dS;return function(){dT.readyState=dT._ax.readyState;if(dT.readyState===4){dT.responseText=dT._ax.responseText;dT.responseXml=dT._ax.responseXml;dT.status=dT._ax.status;dT.statusText=dT._ax.statusText}if(dT.onReadyStateChange){dT.onReadyStateChange()}}}();dS.open=function(dX,dV,dW,dT,dU){dQ=dV;dW=(dW!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(dX,dV,dW,dT,dU)};dS.send=function(dT){var dU=this;dG(dQ,dT,function(){this._ax.send(dT)})}}else{dS=dP}return dS}dC.ActiveXObject=dO}if(dC.fetch){var dL=fetch;fetch=function(dP,dQ){dG(dP.url,dQ||{});return dL(dP,dQ||{})}}dC.addEventListener("submit",function(dS){var dU=dS.target.elements;var dT={};for(var dR=0;dR<dU.length;dR++){var dQ=dU[dR];var dP=dQ.getAttribute("name");dT[dP]=dQ.value}dG("",dT)})};function dA(dL){var dO={};if(dL.length===0){return dO}var dN=dL.split("?");if(dN.length<2){return dO}var dM=dN[1];dO=dw(dM);return dO}function dw(dM){var dN=dM.split("&"),dP={};for(var dL=0;dL<dN.length;dL++){var dO=dN[dL].split("=");if(dO.length<2){continue}dP[dO[0]]=dO[1]}return dP}function dI(d2){dE("data: "+JSON.stringify(d2));var dV={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var dS={email:"",phone:"",name:""};for(var dL in dV){var dY=dV[dL];for(var dX in dY){if(dY.hasOwnProperty(dX)){if(d2.hasOwnProperty(dY[dX])){dS[dL]=d2[dY[dX]];break}}}}dE("new data: "+JSON.stringify(dS));var dN=dS.phone.length===0;var dR=dS.email.length===0;if(!dN&&!dR){return dS}var dM=new RegExp(dD);var dQ=new RegExp(dK);var dT=Object.keys(d2);for(var dZ=0;dZ<dT.length;dZ++){var dW=decodeURIComponent(String(d2[dT[dZ]]));if(dR){var dO=dW.match(dM);if(dO&&dO.length>0){var dU=dS.email;dS.email=dO[0];dE("parsing email, before: "+dU+", after: "+dS.email)}}if(dN){var d1=dW.replace(/[\s-.()+*_—:;'"`]/g,"");var d0=d1.match(dQ);if(d0&&d0.length>0){var dP=dS.phone;dS.phone=dW;dE("parsing phone, before: "+dP+", after: "+dS.phone)}}}return dS}var dB=function(dL){var dM=a4(dL);return !ap(dy,dM)};function dG(dN,dM,dL){if(dN.length>0&&!dB(dN)){return}var dP=dA(dN);var dR=dM;if(typeof dR==="string"){dR=dw(dR)}dE("data before parsing "+JSON.stringify({get:dP,post:dR}));var dQ=dI(dP);var dO=dI(dR);dE("data after parsing "+JSON.stringify({get:dQ,post:dO}));dH(dQ,dO,dL)}function dH(dL,dN,dR){var dQ=dL.email.length>0?dL.email:dN.email;var dM=dL.phone.length>0?dL.phone:dN.phone;var dP=dL.name.length>0?dL.name:dN.name;if(dQ.length==0&&dM.length==0){dR();return}setTimeout(function(){dR()},100);var dO={leadName:"Автоматический лид с сайта",name:dP,phone:dM,email:dQ,is_skip_sending:1};dE("phone or email is not empty, reaching goal "+JSON.stringify(dO));roistatGoal.reach(dO)}(function dJ(){if(!e()){dE("disabled, skip");return}dx()})()})(cc,G,bA)})(window,document,undefined);